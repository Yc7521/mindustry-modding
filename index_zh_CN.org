#+TITLE: Mindustry 模组开发文档
:PREAMBLE:
#+AUTHOR: Simon Woodbury-Forget
#+EMAIL: simonwoodburyforget@gmail.com
#+DATE: 2019-10-31
#+TRANSLATOR: Plas_Gensokyo

#+LANGUAGE: zh_CN
#+TEXINFO_DEFFN: t
#+OPTIONS: H:4 num:3 toc:2

#+TEXINFO_FILENAME: index

#+TODO: TODO UNTESTED | DONE

#+TEXINFO_HEADER: Modding documentation for Mindustry v99 (133)

提出PR和issue建议请去作者 Github: https://github.com/SimonWoodburyForget/mindustry-modding

:END:

* 概览
  :PROPERTIES:
  :DESCRIPTION: mod开发简介
  :END:

  Mindustry的mod是一些内容物的整合，你可以用内置的种类，改变其中的数据来加载你的物品，也可以重写原版的内容

  你可以添加自己的贴图和音效，打包上传并分享自己的mod，mod在所有平台上都是同一格式。

  你也可以添加蓝图到mod里面
  
** 文件结构
   :PROPERTIES:
   :DESCRIPTION: mod文件结构
   :END:

  你的mod文件结构必须类似于如下结构:

   #+BEGIN_SRC fundamental
   mod名
   ├── bundles
   ├── schematics
   ├── content
   │   ├── blocks
   │   └── items
   ├── mod.json
   ├── sounds
   ├── maps
   └── sprites
   #+END_SRC

   每个平台都有不一样的数据存储目录，存储目录的mods文件夹就是加载mod的地方:
   * Linux: =~/.local/share/Mindustry/mods/=
   * Steam: =steam/steamapps/common/Mindustry/mods/=
   * Windows: =%appdata%/Mindustry/mods/=

** ~mod.json~
   :PROPERTIES:
   :DESCRIPTION: 模组配置文件
   :END:


   在mod的根目录，你必须要有 ~mod.json~ 这个文件来定义你的mod的基础数据。

   #+BEGIN_SRC json
   {
       "name": "Mod名字",
       "author": "作者名字",
       "description": "这是一段介绍。",
       "version": "1.0",
       "dependencies": [ ]
   }
   #+END_SRC

   说明:
   * ~name~ 会用来引用你的mod，慎重地去命名来避免和其他mod的名字重复
   * ~description~ 是mod加载界面会显示的文本，尽量的写简洁扼要一点。
   * ~dependencies~ 是非必须的;如果你想知道更多，去看[[前置][前置]] 部分.

** 内容
   :PROPERTIES:
   :DESCRIPTION: 内容物目录结构
   :END:

   在你的mod的根目录你会有一个 ~content/~ 目录，这里是所有json文件存储的地方，各种type会有不一样的子文件夹，在这个文件夹里面有如下子文件夹:

   * ~content/items/~ 用来放 [[物品][物品]], 比如 ~copper~ 和 ~surge-alloy~;
   * ~content/blocks/~ 用来放 [[方块][方块]], 比如炮塔和地板;
   * ~content/mechs/~ 用来放 [[玩家机甲][玩家机甲]], 比如 ~tau~ 和 ~glaive~;
   * ~content/liquids/~ 用来放 [[液体][液体]], 比如 ~water~ 和 ~slag~;
   * ~content/units/~ 用来放飞行或地面 [[单位][单位]], 比如 ~reaper~ 和 ~dagger~;
   * ~content/zones/~ 用来放 [[区域][区域]], 战役地图的配置文件.

   这个非常重要，这种结构是游戏本体加载mod所读取和结构。里面的各个文件名也很重要，比如在 ~content/blocks/<name>.json~ 目录的 ~name~ 将被当作数据节读取

   内容文件夹的json文件开头应该像这样:

   #+BEGIN_SRC json
   {
       "type": "物品的种类",
       "name": "物品的显示名",
       "description": "物品介绍."
   }
   #+END_SRC

   | 接口       | 类型   | 描述                             |
   |-------------+--------+-----------------------------------|
   | type        | String | 内容物的种类.      |
   | name        | String | 内容物的显示名称.        |
   | description | String | 内容物的显示介绍. |

   其他接口会在~种类~中提及。

** 种类
   :PROPERTIES:
   :DESCRIPTION: 你所要知道的关于种类的东西
   :END:

   种类有很多接口,其中最重要的是 ~种类~;这是一个内容分析器分析的关键节点,用来决定这个内容物的种类. /一个 ~Router~ 不能是 ~Turret~ 类/, 因为它们完全不一样.

   种类会互相 /继承/ ,比如 ~MissileBulletType~ 继承了 ~BasicBulletType~, 你可以在 ~MissileBulletType~ 中使用 ~BasicBulletType~ 中的所有接口,比如 ~damage~, ~lifetime~ 和 ~speed~. 接口都是大小写敏感的，比如: ~hitSize 不等于 hitsize~.

   每个内容物能做什么取决于它们的种类,有一些种类几乎不能做任何东西,它们大多数都是一些会被继承的父类. 比如 ~Block~.

   ~种类~ 也可以指各个种类的接口的数据种类.种类可以指其他东西,比如 ~float~ 是一个你可以使用 ~0.3~ 为数据的种类.

   在这里你可以看到, 最高级的种类是 ~Revenant~, 但是 ~bullet~ is的种类是 ~BulletType~ 所以你可以使用 ~MissileBulletType~, 因为 ~MissileBulletType~ 继承了 ~BulletType~.

   #+BEGIN_SRC json
   {
       "type": "Revenant",
       "weapon": {
           "bullet": {
               "type": "MissileBulletType",
               "damage": 9000
           }
       }
   }
   #+END_SRC

** 贴图
   :PROPERTIES:
   :DESCRIPTION: 如何命名图片文件
   :END:

   制作贴图所需的软件, 是一个支持透明编辑的软件 /(比如: PS)./ 方块的贴图大小是 ~32 * 大小~, 所以一个 ~2x2~ 的方块将会需要 ~64x64~ 的贴图.贴图必须是 ~.png~ 格式，要32位深度.

   贴图可以直接放在 ~sprites/~ 文件夹.内容分析器会正确地分析它们,所以你可以凭感觉来组织它们. 

   内容物会根据自己的名字寻找贴图.比如 ~content/blocks/my-hail.json~ 的名字是 ~my-hail~ 然后 ~sprites/my-hail.png~ 也有 ~my-hail~这个名字 , 所以这个贴图会被内容物使用.

   内容物可能会寻找多个贴图. ~my-hail~ 是一个炮塔, 所以它会寻找一个叫 ~<name>-heat~ 的贴图，换句话来说，它会寻找叫 ~my-hail-heat~ 的贴图.

   你可以在这里找到所有原版贴图:
   * https://github.com/Anuken/Mindustry/tree/master/core/assets-raw/sprites

   你需要知道的另外一个事情是，材质都会通过一个叫 /anti-aliasing filters/ 的东西，这个东西会让贴图在游戏中显示的有少许不一样. -- 这个过滤器会给炮塔贴图加一个特殊的黑色边,所有你在制作贴图的时候必须注意,留一圈透明的边框,比如: [[https://raw.githubusercontent.com/Anuken/Mindustry/master/core/assets-raw/sprites/blocks/turrets/ripple.png][Ripple]]

** 音效
   :PROPERTIES:
   :DESCRIPTION: 音效文件描述和放置位置
   :END:

  自定义的音效文件可以放在 ~sounds/~ 文件夹中来添加. 只要在音效文件夹里，就没有问题.各个音效需要两种格式:

  * 电脑版和安卓版需要 ~.ogg~
  * IOS版需要 ~.mp3~ 

  就像其他资源, 你可以通过文件名调用它, 比如so ~pewpew.ogg~ 和and ~pewpew.mp3~ 可以被 ~pewpew~ 在 ~Sound~ 种类中被调用.

  这个是原版音效列表:
  * ~artillery~
  * ~back~
  * ~bang~
  * ~beam~
  * ~bigshot~
  * ~boom~
  * ~break~
  * ~build~
  * ~buttonClick~
  * ~click~
  * ~conveyor~
  * ~corexplode~
  * ~door~
  * ~drill~
  * ~empty~
  * ~explosionbig~
  * ~explosion~
  * ~fire~
  * ~flame2~
  * ~flame~
  * ~laserbig~
  * ~laser~
  * ~machine~
  * ~message~
  * ~missile~
  * ~pew~
  * ~place~
  * ~press~
  * ~release~
  * ~respawning~
  * ~respawn~
  * ~shootBig~
  * ~shoot~
  * ~shootSnap~
  * ~shotgun~
  * ~spark~
  * ~splash~
  * ~spray~
  * ~thruster~
  * ~unlock~
  * ~wave~
  * ~windowHide~

** 前置
   :PROPERTIES:
   :DESCRIPTION: 使mod成为拓展mod
   :END:

   你可以添加依赖mod在 ~mod.json~ 里面:

   #+BEGIN_SRC json
   {
       "dependencies": [
           "other-mod-name",
           "not-a-mod"
       ]
   }
   #+END_SRC

   依赖mod的名字全小写，其中的空格用 ~-~ 代替, 比如 ~Other MOD NamE~ 变成 ~other-mod-name~.

   要调用其他mod的资源,你必须给资源加上其他mod的前缀:

   * ~other-mod-name-not-copper~ 将会引用 ~other-mod-name~ 中的 ~not-copper~ 
   * ~other-mod-name-angry-dagger~ 将会引用 ~other-mod-name~ 中的 ~angry-dagger~ 
   * ~not-a-mod-angry-dagger~ 将会引用 ~not-a-mod~ 中的 ~angry-dagger~ 

** 语言包
   :PROPERTIES:
   :DESCRIPTION: 翻译和重命名
   :END:

   一个mod非必须的部分.语言包主要用来翻译你的内容物,但是这不是你不使用英文的理由.语言包手一个放在 ~bundles/~ 文件夹里面的文件,它必须像这样命名 ~bundle_ru.properties~ (俄语).

   这个文件的内容十分简单:

   #+BEGIN_SRC fundamental
   block.example-mod-silver-wall.name = Серебряная Стена
   block.example-mod-silver-wall.description = Стена из серебра.
   #+END_SRC

   If you've read the first few sections of this guide如果你读了上面的几个部分, you'll spot it right away你就会知道这个怎么写:
   * ~<content type>.<mod name>-<content name>.name~
   * ~<content type>.<mod name>-<content name>.description~

   Notes:
   * mod和内容物名称需要用小写，空格要用 ~-~ 代替.

   内容物种类表:
   * ~item~
   * ~block~
   * ~mech~
   * ~bullet~
   * ~liquid~
   * ~status~
   * ~unit~
   * ~weather~
   * ~effect~
   * ~zone~
   * ~loadout~
   * ~typeid~

   语言文件表:

   * English ~bundle.properties~
   * Czech ~bundle_cs.properties~
   * German ~bundle_de.properties~
   * Spanish ~bundle_es.properties~
   * Estonian ~bundle_et.properties~
   * Basque ~bundle_eu.properties~
   * French BE ~bundle_fr_BE.properties~
   * French ~bundle_fr.properties~
   * Bergabung ~bundle_in_ID.properties~
   * Italian ~bundle_it.properties~
   * Japanese ~bundle_ja.properties~
   * Korean ~bundle_ko.properties~
   * Dutch BE ~bundle_nl_BE.properties~
   * Dutch ~bundle_nl.properties~
   * Polish ~bundle_pl.properties~
   * Portuguese BR ~bundle_pt_BR.properties~
   * Portuguese  ~bundle_pt.properties~
   * Russian ~bundle_ru.properties~
   * Danish ~bundle_sv.properties~
   * Turkish ? ~bundle_tk.properties~
   * Turkish ? ~bundle_tr.properties~
   * Ukrainian ~bundle_uk_UA.properties~
   * Chinese CN ~bundle_zh_CN.properties~
   * Chinese TW ~bundle_zh_TW.properties~

** 蓝图

   需要 ~Schematic~ 接口的类，不能替换原版发射图 /(详情请看 [[区域]] 部分)/ 一个base64文字串,或者一个以 ~.msch~ 结尾的文件放在 ~schematics/~ 子目录里.

   /现在,蓝图只能用于自定义发射图./

** Mindustry JSON 格式

   Mindustry 不是真正在用 JSON, 只是合乎语法的 JSON 可以工作, 以下是和原版 JSON 格式的不同:
   * ~//~ 双斜杠可以用于注释;
   * ~//~ 双斜杠不能用于表示文字串;
   * ~"~ 和 ~"~ 不是文字串所必须的;
   * ~,~ 逗号在物品组 ~[]~ 和元素组中 ~{}~ 不是必须的;
   * ~[ 值, ]~ 逗号可以包括在组里面.

** FAQ
    :PROPERTIES:
    :DESCRIPTION: 一些问题和答案
    :END:

    * ~time~ 在游戏中用 ~ticks~ 计算;
    * ~ticks~ /有时叫 ~帧数~,/ 是 60/1 秒;
    * ~range~ 和其他距离都是 1/10 格;
    * 计算子弹范围需要用 ~lifetime~ 和 ~speed~ ，公式是 ~lifetime * speed = range~;
    * <<Abstract>> /Abstract/: 你需要知道关于abstract的东西只有这是一个Java的定义,这个定义下的物体不能被自身加载. 如果你强上会出现 /"initialization exception"/ 类似这种的错误.
    * research cost is ~30 + requirements * 6~

* 世界
  :PROPERTIES:
  :DESCRIPTION: 所有物品都在这里
  :END:
** 方块
   :PROPERTIES:
   :DESCRIPTION: 方块的基础类
   :end:

  继承 [[方块存储][方块存储]] -- 所有的物品和方块的基础类，英文:Block

  | 接口               | 种类            |      默认值 | 解释      |
  |---------------------+-----------------+--------------+------------|
  |                     |                 |          <r> | <10>       |
  | update              | boolean         |              | 这个物品是否会更新 |
  | destructible        | boolean         |              | 这个物品是否有血量和被破坏 |
  | unloadable          | boolean         |         true | 卸载器是否作用于这个方块 |
  | solid               | boolean         |              | 是否是固体 |
  | solidifes           | boolean         |              | 这个物体是否能变成固体. |
  | rotate              | boolean         |              | 这个物体是否能旋转 |
  | breakable           | boolean         |              | 这个方块是否能通过右键拆除 |
  | placeableOn         | boolean         |         true | 这个 [[地板][地板]] 是否能被放上方块. |
  | insulated           | boolean         |        false | 这个方块是否绝缘. |
  | health              | int             |           -1 | 方块血量 |
  | baseExplosiveness   | float           |            0 | 方块基础爆炸性 |
  | floating            | boolean         |        false | 这个方块能不能放在液体地板边上. |
  | size                | int             |            1 | 方块大小 |
  | expanded            | boolean         |        false | 是否超范围渲染. |
  | timers              | int             |            0 | 计时器最大记录时间. |
  | fillesTile          | true            |              | 特殊的接口; 如果是false, [[地板][地板]] 将会在这个方块上面渲染. |
  | alwaysReplace       | boolean         |        false | 这个方块是否自动自动填充空间 |
  | group               | [[方块组别][方块组别]]      |         none | 除非 ~canReplace~ 被重写, 同一组别的方块可以呼吸替换. |
  | priority            | TargetPriority  |         base | 当方块看到敌人时瞄准的优先配置. |
  | configurable        | boolean         |              | 这个方块是否能被打开GUI配置. |
  | consumesTap         | boolean         |              | 点击这个方块是否触发事件. |
  | posConfig           | boolean         |              | 配置这个方块是否需要点击. |
  | targetable          | boolean         |         true | 单位是否会攻击这个方块. |
  | canOverdrive        | boolean         |         true | 这个方块是否能超频. |
  | outlineColor        | [[颜色][颜色]]           |       404049 | 图标描边颜色. |
  | outlineIcon         | boolean         |        false | 这个方块图标是否描边. |
  | hasShadow           | boolean         |         true | 这个方块是否有阴影. |
  | breakSound          | [[音效][音效]]           |         boom | 破坏方块时播放的音效. |
  | activeSound         | [[音效][音效]]           |         none | 方块工作时的音效，会循环播放 |
  | activeSoundVolume   | float           |          0.5 | 工作音效音量. |
  | idleSound           | [[音效][音效]]           |         none | 方块空闲时音效. |
  | idleSoundVolume     | float           |          0.5 | 空闲音效音量. |
  | requirements        | [[物品组][物品组]]       |              | 建筑方块的消耗，会影响到研究消耗，公式在下面. |
  | category            | [[种类组][种类组]]        | distribution | 建造菜单上面的种类. |
  | buildCost           | float           |              | 建造时间，在这里写没有用 |
  | buildVisibility     | [[建筑菜单可见性][建筑菜单可见性]] |       hidden | 这个物品在建筑菜单是否可见. |
  | buildCostMultiplier | float           |            1 | 方块建筑时间倍率. |
  | instantTransfer     | boolean         |        false | 这个物品是否瞬间运输物品. |
  | alwaysUnlocked      | boolean         |        false |            |
  | layer               | [[渲染层][渲染层]]           |         null | 渲染在哪一层. |
  | layer2              | [[渲染层][渲染层]]           |         null | 额外渲染在哪一层. |

** 消耗器
   :PROPERTIES:
   :DESCRIPTION:消耗液体，物体和能量的基础类，英文:Consume
   :END:

   这个类经常在接口 ~consumes~ 中被使用, 它允许你的方块消耗什么东西, 这个接口如何工作取决于方块的主类.

   | 接口         | 种类                  | 备注      |
   |---------------+-----------------------+------------|
   |               |                       | <10>       |
   | item          | String                |  =items= 的简略表达 |
   | items         | [[消耗物品]]          |            |
   | liquid        | [[消耗液体]]         |            |
   | power         | float or [[能量消耗]] |            |
   | powerBuffered | float                 | 电池参数 |

   备注:
   * 你不能同时拥有 ~power~ 和 ~powerBuffered~

   消耗物品例子 [[消耗物品][消耗物品]] 和 [[消耗液体]]:
   #+BEGIN_SRC json
   {
       "items": {
           "items": [ 
               { "amount": 10, "item": "copper" },
               { "amount": 5, "item": "surge-alloy" }
           ],
           "booster": true,
           "optional": true
       },
       "liquid": {
           "liquid": "water",
           "amount": 1.0
       }
   }
   #+END_SRC
*** 消耗

    [[Abstract][Abstract]] 修饰类, 定义了资源被消耗的种类和效果.英文:Consume

    | 接口    | 类型    | 默认值 | notes      |
    |----------+---------+---------+------------|
    |          |         |         | <10>       |
    | optional | boolean |         | 是否消耗任一物品. |
    | booster  | boolean |         | 此物品将作为加速物质消耗. |
    | update   | boolean | true    |            |

   * <<消耗物品>> ~消耗物品~, 消耗物品组.

     | 接口 | 类型      |
     |-------+-----------|
     | items | [[物品组][物品组]] |

   * <<消耗液体>> ~消耗液体~, 消耗一种液体.

     | 接口      | 类型   | 默认值 | 备注      |
     |------------+--------+---------+------------|
     |            |        |         | <10>       |
     | liquid     | String |         | 消耗的 [[液体]] 名 |
     | amount     | float  |         | 一帧消耗量 |
	 | timePeriod | float  | 60      | 下面 |
    
	备注:
    * ~timePeriod~ 例子: 消耗液体 10/s 和 10 秒的间隔时间会显示成 "100 秒", 如果没有时间无效化它会显示 "10液体/秒".这个用于普通加工厂.

   * <<能量消耗>> ~能量消耗~, consume or buffer power.

    | 接口    | 种类    | 默认值 | 备注      |
    |----------+---------+---------+------------|
    |          |         |         | <10>       |
    | usage    | float   |         | 每秒最大耗能. |
    | capacity | float   |         | 能量缓存. |
    | buffered | boolean |         | 是否时电池. |

    Notes:
    * ~usage~ 影响工作效率并且与 ~buffered~ 不兼容.
	
** 方块存储
   :PROPERTIES:
   :DESCRIPTION: 基础存储
   :END:

   [[Abstract][Abstract]] 修饰类继承 [[内容][内容]] -- 这里定义方块存储的资源.英文:BlockStorage

   | 接口          | 种类      | 默认值 | 备注 |
   |----------------+-----------+---------|
   |                |           |     <r> |
   | hasItems       | boolean   |         | 是否存储物品 |
   | hasLiquids     | boolean   |         | 是否存储液体 |
   | hasPower       | boolean   |         | 是否存储能量 |
   | outputsLiquid  | boolean   |   false | 是否输出液体 |
   | consumesPower  | boolean   |    true | 是否消耗能量 |
   | outputsPower   | bolean    |   false | 是否输出能量 |
   | itemCapacity   | int       |      10 | 物品储量 |
   | liquidCapacity | float     |      10 | 液体储量 |
   | item           | float     |      10 | |
   | consumes       | [[消耗器][消耗器]] |         |

** 环境
   :PROPERTIES:
   :DESCRIPTION: 环境方块
   :END:
   环境方块只能在地图编辑器里面加入地图,它们也是决定游戏怎么玩的关键方块.这一些方块不会出现在地图上面除非你画一个地图来生成它们.

*** 地板
    继承 [[方块][方块]] -- 环境里面的地板.需要贴图，可以在编辑器中看到。英文:Floor

    | 接口             | 种类         | 默认值 | 备注      |
    |-------------------+--------------+---------+------------|
    |                   |              |     <r> | <10>       |
    | variants          | int          |       3 | 使用的贴图数量. |
    | edge              | String       |   stone | 边缘地板，通常在矿物上使用. |
    | speedMultiplier   | float        |       1 | 单位行走在上面的速度倍率. |
    | dragMultiplier    | float        |       0 | 地板减速倍率. |
    | damageTaken       | float        |       0 | 每 1/60秒受到的伤害. |
    | drownTime         | float        |       0 | 单位站在上面多久会淹死. |
    | walkEffect        | [[特效][特效]]       |  ripple | 单位在这个 [[地板][地板]].上行走的特效 |
    | drownUpdateEffect | [[特效][特效]]       |  bubble | 单位在这个 [[地板][地板]].上溺水的特效. |
    | status            | [[状态][状态]] |    none | 单位行走在上面时给予的状态. |
    | statusDuration    | float        |      60 | 状态持续时间. |
    | liquidDrop        | [[液体][液体]]       |         | 产出液体种类，用泵获取. |
    | itemDrop          | [[物品][物品]]         |         | 产出物品种类，用钻头采集. |
    | isLiquid          | boolean      |         | 这个方块是否会淹死单位. |
    | playerUnmineable  | boolean      |   false | 玩家是否不能直接挖此地板的矿物. |
    | blendGroup        | [[方块][方块]]        |    this | 这个地板不会拓展渲染到什么方块上. |
    | updateEffect      | [[特效][特效]]       |    none | 地板更新时的特效. |
    | attributes        | [[属性][属性]]   |         | 地板对各种机器的效率倍数. |

    多种贴图命名规则:
    - ~<name><1..>~

*** 覆盖地板

    继承 [[地板][地板]] -- 一种地板渲染在其他地板上一层.英文:OverlayFloor

    例子:
    * ~tendrils~

*** 双层覆盖地板

    继承 [[覆盖地板][覆盖地板]]，英文:DoubleOverlayFloor

    例子:
    * ~pebbles~

*** 矿物

    继承 [[覆盖地板][覆盖地板]] -- 获取特定的物品所产生的矿物.英文:OreBlock

    | 接口    | 默认值 |
    |----------+---------|
    |          |     <r> |
    | variants |       3 |

*** 岩石

    继承 [[方块][方块]]，英文:Rock

    | 接口    | 类型 |
    |----------+------|
    | variants | int  |

    默认值:
    | 接口         | 默认值 |
    |---------------+---------|
    |               |     <r> |
    | breakable     |    true |
    | alwaysReplace |    true |

*** 静止墙

    继承 [[岩石][岩石]] -不可破坏的墙，英文:StaticWall

    默认值:
    | 接口         | 默认值 |
    |---------------+---------|
    |               |     <r> |
    | breakable     |   false |
    | alwaysReplace |   false |
    | solid         |    true |
    | variants      |       2 |

    非必须贴图:
    * ~<name>-large.png~ 可以使用2x2的材质.

*** 静止树

    继承 [[静止墙][静止墙]]，英文:StaticTree

    比如:
    * ~spore-pine~
    * ~snow-pine~
    * ~pine~
    * ~shrubs~

*** 树

    继承 [[方块][方块]]，英文:TreeBlock

    默认值:
    | 接口    | 默认值 |
    |----------+---------|
    | solid    | true    |
    | layer    | power   |
    | expanded | true    |
** 工厂
   :PROPERTIES:
   :DESCRIPTION: 加工物品的方块
   :END:
*** 普通加工厂
    继承 [[方块][方块]]，英文:GenericCratfer

    | 接口              | 类型        | 默认值 | 备注 |
    |--------------------+-------------+--------+--|
    |                    |             |     <r> |
    | outputItem         | [[物品组][物品组]]   |         | 输出物品 |
    | outputLiquid       | [[液体组][液体组]] |         | 输出液体 |
    | craftTime          | float       |      80 | 加工时间 |
    | craftEffect        | [[特效][特效]]      |    none | 工作特效 |
    | updateEffect       | [[特效][特效]]      |    none | 更新特效 |
    | updateEffectChance | float       |    0.04 | 触发更新特效概率 |

    默认值:
    | 接口           | 默认值 |
    |-----------------+---------|
    |                 |     <r> |
    | update          |    true |
    | solid           |    true |
    | hasItems        |    true |
    | health          |      60 |
    | idleSound       | machine |
    | idleSoundVolume |    0.03 |

*** 普通冶炼炉
    继承 [[普通加工厂][普通加工厂]] -- 一个有工作贴图的普通加工厂.英文:GenericSmelter

    | 接口      | 类型  | 默认值 | 备注 |
    |------------+-------+-------+-----|
    |            |       | |     <r> |
    | flameColor | [[颜色][颜色]] |  ffc999 | 火焰颜色 |

    额外贴图:
    * ~-top~

*** 分离机
    继承 [[方块][方块]]

    分离机是一个输入液体并以物品组中和数量为概率随机输出物品的机器.英文:Separator

    | 接口            | 类型      | 默认值 | 备注      |
    |------------------+-----------+---------+------------|
    |                  |           |         | <10>       |
    | results          | [[物品组][物品组]] |         | *[必须]*输出物品及概率 |
    | craftTime        | float     |         |            |
    | spinnerRadius    | float     |     2.5 |  转子范围          |
    | spinnerLength    | float     |       1 |   转子长         |
    | spinnerThickness | float     |       1 |    转子宽        |
    | spinnerSpeed     | float     |       2 |   转子速度         |
    | color            | [[颜色][颜色]]     |  858585 | 工作颜色           |
    | liquidRegion     | int       |         |    液体区域        |

    默认值:
    | 接口      | 默认值 |
    |------------+---------|
    |            |     <r> |
    | update     |    true |
    | solid      |    true |
    | hasItems   |    true |
    | hasLiquids |    true |

    额外贴图:
    * ~-liquid~
** 沙盒
   :PROPERTIES:
   :DESCRIPTION: 禁忌的东西
   :END:
*** 能量黑洞
    继承 [[能量方块][能量方块]]，英文:PowerVoid

    默认值:

    | 接口         |   默认值 |
    |---------------+-----------|
    |               |       <r> |
    | consumesPower | MAX_VALUE |

*** 无限能源
    继承 [[能量节点][能量节点]]，英文:PowerSource

    默认值:

    | 接口         | 默认值 |
    |---------------+---------|
    |               |     <r> |
    | maxNodes      |     100 |
    | outputsPower  |    true |
    | consumesPower |   false |

*** 物品源
    继承 [[方块][方块]]，英文:ItemSource

    默认值:

    | 接口        |        默认值 |
    |--------------+----------------|
    |              |            <r> |
    | hasItems     |           true |
    | update       |           true |
    | soild        |           true |
    | group        | transportation |
    | configurable |           true |

*** 物品黑洞
    继承 [[方块][方块]]，英文:ItemVoid

    默认值:

    | 接口  | 默认值 |
    |--------+---------|
    |        |     <r> |
    | update |    true |
    | soild  |    true |

*** 液体源
    继承 [[方块][方块]]，英文:LiquidSource

    默认值:

    | 接口          | 默认值 |
    |----------------+---------|
    |                |     <r> |
    | hasLiquids     |    true |
    | update         |    true |
    | soild          |    true |
    | liquidCapacity |     100 |
    | configurable   |    true |
    | outputsLiquid  |    true |

** 逻辑
*** 消息块
    继承 [[方块][方块]]，英文：MessageBlock

    | 接口         | 类型 | 默认值 | 备注 |
    |---------------+------+----+----|
    |               |      |     <r> | |
    | maxTextLength | int  |     220 | 信息最大长度 |
    | maxNewlines   | int  |      24 | 信息最大行数 |

    默认值:

    | 接口        | 默认值 |
    |--------------+---------|
    |              |     <r> |
    | soild        |    true |
    | configurable |    true |
    | destructible |    true |
** 防御
   :PROPERTIES:
   :DESCRIPTION: 保护你的东西的方块
   :END:
*** 墙
    继承 [[方块][方块]]，英文：Wall

    | 接口    | 类型 | 默认值 |
    |----------+------+---------|
    |          |      | <r>     |
    | variants | int  |       0 |

    默认值:

    | 接口               | 默认值 |
    |---------------------+---------|
    |                     |     <r> |
    | solid               |    true |
    | destructible        |    true |
    | group               |   walls |
    | buildCostMultiplier |       5 |

*** 反射墙
    继承 [[墙][墙]] -- 可以反射低伤害子弹的墙.英文：DeflectorWall

    | 接口            | 类型  | 默认值 | 备注 |
    |------------------+-------+---+------|
    |                  |       |     <r> | |
    | hitTime          | float |      10 | 反射间隔 |
    | maxDamageDeflect | float |      10 | 最大反射伤害 |

*** 闪电墙
    继承 [[墙][墙]] -- 一种被攻击产生闪电的墙.英文：SurgeWall

    | 接口           | 类型  | 默认值 | 备注 |
    |-----------------+-------+----+-----|
    |                 |       |     <r> | |
    | lightningChance | float |    0.05 | 产生闪电概率 |
    | lightningDamage | float |      15 | 闪电伤害 |
    | lightningLength | int   |      17 | 闪电长度 |

*** 门
    继承 [[墙][墙]]，英文:Wall

    | 接口   | 类型   |   default | 备注 |
    |---------+--------+-----------+-|
    |         |        |       <r> | |
    | openfx  | [[Effect][Effect]] |  dooropen | 开门特效 |
    | closefx | [[Effect][Effect]] | doorclose | 关门特效 |

    默认值:

    | 接口       | 默认值 |
    |-------------+---------|
    | solid       | false   |
    | solidfies   | true    |
    | consumesTap | true    |

    额外贴图:
    * ~<name>-open~

*** 修理投影
    继承 [[方块][方块]]，英文：MendProjector

    | 接口           | 类型  | 默认值 | 备注 |
    |-----------------+-------+---------+-|
    |                 |       |     <r> | |
    | color           | [[颜色][颜色]] |  84f491 | 颜色 |
    | phase           | [[颜色][颜色]] |  ffd59e | 加速颜色 |
    | reload          | float |     250 | 修复间隔 |
    | range           | float |      60 | 修复距离 |
    | healPercent     | float |      12 | 修复百分比 |
    | phaseBoost      | float |      12 | 加速百分比 |
    | phaseRangeBoost | float |      50 | 加速范围百分比 |
    | useTime         | float |     400 | 使用一个加速物品的时间 |

    额外贴图:
    * ~<name>-top~

*** 超频投影
    继承 [[方块][方块]]，英文：OverdriveProjector

    | 接口           | 类型  | 默认值 | 备注 |
    |-----------------+-------+---------+-|
    |                 |       |     <r> | |
    | color           | [[颜色][颜色]] |  feb380 | 颜色 | 
    | phase           | [[颜色][颜色]] |  ffd59e | 加速颜色 |
    | reload          | float |      60 | 重载间隔 |
    | range           | float |      80 | 范围 |
    | speedBoost      | float |     1.5 | 速度加成 |
    | speedBoostPhase | float |    0.75 | 加速加成 |
    | useTime         | float |     400 | 使用一个加速物品的时间 |
    | phaseRangeBoost | float |      20 | 加速范围百分比 |


    默认值:
    | 接口        | 默认值 |
    |--------------+---------|
    | solid        | true    |
    | update       | true    |
    | hasPower     | true    |
    | hasItems     | true    |
    | canOverdrive | false   |

    额外贴图:
    * ~<name>-top~

*** 力墙投影

    继承 [[方块][方块]]，英文：ForceProjector

    | 接口              | 类型  | 默认值 | 备注 |
    |--------------------+-------+---------+-|
    | phaseUseTime       | float |     350 | 使用一个加速物品的时间 |
    | phaseRadiusBoost   | float |      80 | 加速范围百分比 |
    | radius             | float |   101.7 | 范围 |
    | breakage           | float |     550 | 过载伤害 |
    | cooldownNormal     | float |    1.75 | 冷却指数 |
    | cooldownLiquid     | float |     1.5 | 加速冷却指数 |
    | cooldownBrokenBase | float |    0.35 | 过载冷却指数 |
    | basePowerDraw      | float |     0.2 | 基础能量消耗 |

    默认值:
    | 接口        | 默认值     |
    |--------------+-------------|
    | update       | true        |
    | solid        | true        |
    | hasPower     | true        |
    | canOverdrive | false       |
    | hasLiquids   | true        |
    | hasItems     | true        |
    | consumes     | [[冷液体][冷液体]] |

    <<冷液体>>[[冷液体][冷液体]]:
    * 温度小于0.5
    * 可燃性小于0.1
    * booster：true
    * optional：true
    * update：false

    额外贴图:
    * ~<name>-top~

*** 地雷
    继承 [[方块][方块]]，英文：ShockMine

    | 接口      | 类型  | 默认值 | 备注 |
    |------------+-------+---------+-|
    | cooldown   | float |      80 | 冷却时间 |
    | tileDamage | float |       5 | 范围伤害 |
    | damage     | float |      13 | 伤害 |
    | length     | int   |      10 | 伤害范围 |
    | tendrils   | int   |       6 | 震动 |

    默认值:
    | 接口        | 默认值 |
    |--------------+---------|
    |              |     <r> |
    | update       |   false |
    | destructible |    true |
    | solid        |   false |
    | targetable   |   false |
    | layer        | overlay |
** 炮塔s
   :PROPERTIES:
   :DESCRIPTION: 射东西的方块
   :END:
   这一节是关于炮塔. 所以炮塔的子弹都是 [[子弹类]], 这代表 [[液体炮塔]] 可以使用 [[导弹]] 和 [[物品炮塔]] 可以使用 [[液体子弹]].

*** 炮塔

    [[Abstract][Abstract]] 修饰类继承 [[方块][方块]] -- 所有炮塔的父类 [[炮塔s]], 有所有炮塔的一般参数.

    | 接口         | 类型    |    默认值 | 备注      |
    |---------------+---------+------------+------------|
    |               |         |            | <10>       |
    | heatColor     | [[颜色][颜色]]   | turretHeat |      发热颜色      |
    | shootEffect   | [[特效][特效]]  |       none |      射击特效      |
    | smoke特效   | [[特效][特效]]  |       none |           冒烟特效 |
    | ammoUseEffect | [[特效][特效]]  |       none |        用子弹特效    |
    | shootSound    | [[音效][音效]]   |      shoot |          射击声音  |
    | ammoPerShot   | int     |          1 |      射击一次用子弹      |
    | ammoEjectBack | float   |          1 |        自动返还    |
    | range         | float   |         50 |       范围     |
    | reload        | float   |         10 |          装弹时间  |
    | inaccuracy    | float   |          0 |         精准度   |
    | shots         | int     |          1 |         一发打出子弹   |
    | spread        | float   |          4 |     子弹散布区域       |
    | recoil        | float   |          1 |       后坐力     |
    | restitution   | float   |       0.02 |        回复原位速度    |
    | cooldown      | float   |       0.02 |       冷却     |
    | rotatespeed   | float   |          5 | 转速 |
    | shootCone     | float   |          8 |     瞄准最大偏角       |
    | shootShake    | float   |          0 |       射击抖动     |
    | xRand         | float   |          0 |   射击偏转         |
    | targetAir     | boolean |       true |         瞄准空军   |
    | targetGround  | boolean |       true |          瞄准陆军  |

    默认值:

    | 接口       | 默认值 |
    |-------------+---------|
    | priority    | turret  |
    | update      | true    |
    | solid       | true    |
    | layer       | turret  |
    | group       | turrets |
    | outlineIcon | true    |

    额外贴图:
    * ~<name>~ 炮塔贴图
    * ~<name>-heat~ 热时贴图

*** 冷却炮塔

    继承 [[炮塔][炮塔]] -- 这是一个用 [[液体]] 加速的炮塔的类.英文：CoolTurret

    | 接口             | 类型   | 默认值 | 备注      |
    |-------------------+--------+---------+------------|
    |                   |        |         | <10>       |
    | coolantMultiplier | float  | 5       | 冷却百分比. |
    | coolEffect        | [[特效][特效]] | shoot   |     冷却特效       |

    备注:
    * 不接受会燃烧的液体
    * 不接受热的液体

*** 物品炮塔

    继承 [[冷却炮塔][冷却炮塔]] -- 用物品作子弹的炮塔. 用 ~ammo~ 接口加上 [[子弹类]] 来实现.英文：ItemTurret

    #+BEGIN_SRC json
    {
        "ammo": {
            "copper": "standardCopper",
            "metaglass": {
                "type": "MissileBulletType",
                "damage": 2
            }
        }
    }
    #+END_SRC

    以上是用 ~copper~ 射出 ~standardCopper~ (内建子弹) 和用 ~metaglass~ 射击一个自定义子弹类型.

    | 接口   | 类型                 | 默认值 | 备注 |
    |---------+----------------------+----------+-|
    | maxAmmo | int                  |      30 | 弹仓 |
    | ammo    | { [[物品][物品]]: [[子弹类][子弹类]] } |         | 使用子弹 |

    默认值:

    | 接口    | 默认值 |
    |----------+---------|
    | hasItems | true    |

*** 双管炮
    继承 [[物品炮塔][物品炮塔]] -- 有两个炮口的炮.英文：DoubleTurret

    | 接口     | 类型  | 默认值 | 备注
    |-----------+-------+------+---|
    | shotWidth | float |       2 | 两炮口间距 |

    默认值:
    | 接口 | 默认值 |
    |-------+---------|
    | shots |       2 |

*** 火炮塔
    继承 [[物品炮塔][物品炮塔]] -- 火炮塔有特殊的命中计算.英文：ArtilleryTurret

    | 接口     | 默认值 |
    |-----------+---------|
    | targetAir | false   |

*** 破片炮塔
    继承 [[物品炮塔][物品炮塔]] -- 射速很快的炮塔.英文：BurstTurret

    | 接口        | 类型  | 默认值 | 备注 |
    |--------------+-------+--------+-|
    | burstSpacing | float |       5 | 爆裂半径 |
*** 能量炮塔
    继承 [[冷却炮塔][冷却炮塔]] -- 用电射击的炮.英文：PowerTurret

    | 接口     | 类型       | 默认值 | 备注 |
    |-----------+------------+--------+-|
    | shootType | [[子弹类][子弹类]] |         | |
    | powerUse  | float      |       1 | 耗能 |

    默认值:

    | 接口    | 默认值 |
    |----------+---------|
    | hasPower | true    |

*** 充能炮塔

    继承 [[能量炮塔]]，英文：ChargeTurret

    | 接口             | 类型   | 默认值 | 备注 |
    |-------------------+--------+---+------|
    | chargeTime        | float  |      30 | 充能时间 |
    | chargeEffects     | int    |       5 | 充能特效时间 |
    | chargeMaxDelay    | float  |      10 | 充能延迟 |
    | chargeEffect      | [[特效]] |    none | 充能特效 |
    | chargeBeginEffect | [[特效]] |    none | 开始充能特效 |

*** 激光炮
    继承 [[能量炮塔][能量炮塔]]，英文：LaserTurret

    | 接口           | 类型  | 默认值 | 备注      |
    |-----------------+-------+---------+------------|
    |                 |       |         | <10>       |
    | firingMoveFract | float |    0.25 | 启动时转速 |
    | shootDuration   | float |     100 |    射击持续时间        |

    默认值:
    | 接口             | 默认值 |
    |-------------------+---------|
    | canOverdrive      | false   |
    | coolantMultiplier | 1       |

    如果达到以下情况不射击:
    * 液体温度大于等于 ~0.5~
    * 液体可燃性大于 ~0.1~

*** 液体炮塔
    继承 [[炮塔]]

    | 接口 | 类型                 | 备注 |
    |--------+--------------------+--|
    | ammo   | { String: [[子弹类]] } | 一个 [[液体]] 作为消耗物 |

    默认值:
    | 接口      | 默认值 |
    |-------------+---------|
    | hasLiquids  | true    |
    | activeSound | spray   |
** 运输
   :PROPERTIES:
   :DESCRIPTION: 让物品动的方块
   :END:
*** 传送带
    继承 [[方块][方块]]，英文：Conveyor

    | 接口 | 类型  | 默认值 | 备注 |
    |-------+-------+-----+---|
    | speed | float |       0 | 速度 |

    默认值:

    | 接口           |        默认值 |
    |-----------------+----------------|
    |                 |            <r> |
    | rotate          |           true |
    | update          |           true |
    | layer           |        overlay |
    | group           | transportation |
    | hasItems        |           true |
    | itemCapacity    |              4 |
    | idleSound       |       conveyor |
    | idleSoundVolume |          0.004 |
    | unloadable      |          false |

    额外贴图:
    * ~-<0..4>-<0..3>~ 例子: [[https://github.com/Anuken/Mindustry/tree/master/core/assets-raw/sprites/blocks/distribution/conveyors][Conveyors-sprites]]

*** 装甲传送带
    继承 [[Conveyor][Conveyor]]  -不接受两边来物从传送带，英文：ArmoredConveyor

*** 连接器
    继承 [[方块][方块]]，英文：Junction

    | 接口    | 类型     | 默认值 | 备注      |
    |----------+----------+---------+------------|
    |          |          |         | <10>       |
    | speed    | float    |      26 | 通过时间 |
    | capacity | capacity |       6 |         容量   |

    默认值:
    | 接口           | 默认值        |
    |-----------------+----------------|
    | update          | true           |
    | solid           | true           |
    | instantTransfer | true           |
    | group           | transportation |
    | unloadable      | false          |

*** 物品桥
    继承 [[方块][方块]]，英文：ItemBridge

    | 接口         | 类型  | 默认值 | 备注 |
    |---------------+-------+------+---|
    | range         | int   |         | 范围 |
    | transportTime | float |       2 | 运输时间 |

    默认值:
    | 接口        | 默认值        |
    |--------------+----------------|
    | update       | true           |
    | solid        | true           |
    | hasPower     | true           |
    | layer        | power          |
    | expanded     | true           |
    | itemCapacity | 10             |
    | posConfig    | true           |
    | configurable | true           |
    | hasItems     | true           |
    | unloadable   | false          |
    | group        | transportation |

    额外贴图:
    * ~<name>-end~ 例子: [[https://raw.githubusercontent.com/Anuken/Mindustry/master/core/assets-raw/sprites/blocks/distribution/bridge-conveyor-end.png][bridge-conveyor-end]]
    * ~<name>-bridge~ 例子: [[https://raw.githubusercontent.com/Anuken/Mindustry/master/core/assets-raw/sprites/blocks/distribution/bridge-conveyor-bridge.png][bridge-conveyor-bridge]]
    * ~<name>-arrow~ 例子: [[https://raw.githubusercontent.com/Anuken/Mindustry/master/core/assets-raw/sprites/blocks/distribution/bridge-conveyor-arrow.png][bridge-conveyor-arrow]]

*** 延展物品桥
    继承 [[物品桥][物品桥]]，英文：ExtendingItemBridge

    默认值:
    | 接口    | 默认值 |
    |----------+---------|
    | hasItems | true    |

*** 储物物品桥
    继承 [[延展物品桥][延展物品桥]]，英文：BufferedItemBridge

    | 接口          | 类型  | 默认值 | 备注 |
    |----------------+-------+----+-----|
    | speed          | float |      40 | 速度 |
    | bufferCapacity | int   |      50 | 存储 |

    默认值:
    | 接口    | 默认值 |
    |----------+---------|
    | hasItems | true    |
    | hasPower | false   |

*** 分类器

    继承 [[方块][方块]]，英文：Sorter

    | 接口  | 类型    | 默认值 | 备注        |
    |--------+---------+---------+--------------|
    | invert | boolean |         | 是否反向 |

    默认值:

    | 接口           | 默认值        |
    |-----------------+----------------|
    | update          | true           |
    | solid           | true           |
    | instantTransfer | true           |
    | group           | transportation |
    | configurable    | true           |
    | unloadable      | false          |

*** 溢流门
    继承 [[方块][方块]]，英文：OverflowGate

    | 接口 | 类型  | 默认值 | 
    |-------+-------+---------|
    | speed | float | 1       |

    默认值:

    | 接口      | 默认值        |
    |------------+----------------|
    | hasItems   | true           |
    | soild      | true           |
    | update     | true           |
    | group      | transportation |
    | unloadable | false          |

*** 路由器
    继承 [[方块][方块]]，英文：Router

    | 接口 | 类型  | 默认值 | 
    |-------+-------+---------|
    | speed | float | 8       |

    默认值:

    | 接口      | 默认值        |
    |------------+----------------|
    | hasItems   | true           |
    | soild      | true           |
    | update     | true           |
    | group      | transportation |
    | unloadable | false          |
	| itemCapacity | 1            |
*** 质量驱动器
    继承 [[方块][方块]] -- 用 ~driverBolt~ 来传输物品.英文：MassDriver

    | 接口         | 类型   |        默认值 | 备注 |
    |---------------+--------+---------------+-|
    | range         | float  |                | 范围 |
    | rotateSpeed   | float  |           0.04 | 转动速度 |
    | translation   | float  |              7 | |
    | minDistribute | int    |             10 | 最小物品量 |
    | knockback     | float  |              4 | 后坐力 |
    | reloadTime    | float  |            100 | 重载时间 |
    | shootEffect   | [[特效][特效]] |      shootBig2 | 射击特效 |
    | smokeEffect   | [[特效][特效]] | shootBigSmoke2 | 冒烟特效 |
    | recieveEffect | [[特效][特效]] |        mineBig | 到达特效 |
    | shake         | float  |              3 | 摇晃 |

    备注:
    * 范围被 ~driverBolt~ 的范围限制, 无法更改.

    默认值:
    | 接口        | 默认值 |
    |--------------+---------|
    | update       | true    |
    | solid        | true    |
    | posConfig    | true    |
    | configurable | true    |
    | hasItems     | true    |
    | layer        | turret  |
    | hasPower     | true    |
    | outlineIcon  | true    |

    额外贴图:
    * ~<name>-base~
** 液体方块M
   :PROPERTIES:
   :DESCRIPTION: 和液体做事的方块
   :END:
*** 液体方块
    继承 [[方块][方块]] -- 用于有液体的方块. 比其他方块有更多参数, 和更多贴图.

    默认值:

   | 接口         | 默认值 |
   |---------------+---------|
   | update        | true    |
   | solid         | true    |
   | hasLiquids    | true    |
   | group         | liquids |
   | outputsLiquid | true    |

   额外贴图:
   * ~<name>-liquid~
   * ~<name>-top~
   * ~<name>-bottom~

*** 泵
    继承 [[液体方块][液体方块]]，英文：Pump

    | 接口      | 类型  | 默认值 | 备注 |
    |------------+-------+--------+-|
    | pumpAmount | float |       1 | 出液体量 |

     默认值：
    | 接口    | 默认值 |
    |----------+---------|
    | layer    | overlay |
    | group    | liquids |
    | floating | true    |

*** 导管
    继承 [[液体方块][液体方块]]，英文：Conduit

    默认值:

    | 接口    | 默认值 |
    |----------+---------|
    | rotate   | true    |
    | solid    | false   |
    | floating | true    |

    额外贴图 /( ~i~ 可以被替换成 0-6)/:
    * ~<name>-top-<i>~

*** 液体路由器
    继承 [[液体方块][液体方块]]，英文：LiquidRouter

*** 液罐
    继承 [[液体路由器][液体路由器]]，英文：LiquidTank

*** 液体连接点
    继承 [[液体方块][液体方块]]，英文：LiquidJunction

*** 液体桥
    继承 [[物品桥][物品桥]]，英文：LiquidBridge

    | 接口         | 默认值 |
    |---------------+---------|
    | hasItems      | false   |
    | hasLiquids    | true    |
    | outputsLiquid | true    |
    | group         | liquids |

*** 拓展液体桥
    继承 [[物品桥][物品桥]]，英文：LiquidExtendingBridge

    | 接口         | 默认值 |
    |---------------+---------|
    | hasItems      | false   |
    | hasLiquids    | true    |
    | outputsLiquid | true    |
    | group         | liquids |
** 能量
   :PROPERTIES:
   :DESCRIPTION: 和能量做事的方块
   :END:
*** 能量方块
    [[Abstract][Abstract]] 修饰类继承 [[方块][方块]]

    默认值:

    | 接口    | 默认值 |
    |----------+---------|
    | update   | true    |
    | solid    | true    |
    | hasPower | true    |
    | group    | power   |

*** 节点
    继承 [[能量方块][能量方块]]，英文：PowerNode

    | 接口      | 类型  | 默认值 | 备注 |
    |------------+-------+--------+-|
    | laserRange | float |       6 | 范围 |
    | maxNodes   | int   |       3 | 接线限制数量 |

    默认值:

    | 接口         | 默认值 |
    |---------------+---------|
    | expanded      | true    |
    | layer         | power   |
    | configurable  | true    |
    | consumesPower | false   |
    | outputsPower  | false   |

*** 能量运输器
    继承 [[能量方块][能量方块]]，英文：PowerDistributor

    默认值:
    | 接口         | 默认值 |
    |---------------+---------|
    | consumesPower | false   |
    | outputsPower  | true    |

*** 电池
    继承 [[能量运输器][能量运输器]] -- 就是一个普通方块.英文：Battery

    默认值:

    | 接口         | 默认值 |
    |---------------+---------|
    | outputsPower  | true    |
    | consumesPower | true    |

*** 发电机
    :PROPERTIES:
    :DESCRIPTION: 基础发电机
    :END:
    继承 [[能量运输器][能量运输器]]，英文：PowerGenerator

    发电机会用 [[消耗器]] 产生能量.

    | 接口           | 类型  | 备注      |
    |-----------------+-------+------------|
    |                 |       | <10>       |
    | powerProduction | float | 效率100%时输出的能量，1 ~powerProduction~ 是 ~60 pu/s~ . |

    默认值:
    | 接口             | 默认值 |
    |-------------------+---------|
    | baseExplosiveness | 5       |

**** 地热发电机
    继承 [[发电机][发电机]] -- 用热 [[属性]] 的地板发电. 输出公式是 ~powerProduction * heat~, 和 ~heat~ 必须大于 ~0.01~.英文：ThermalGenerator

    | 接口          | 类型   | 默认值 | 备注      |
    |----------------+--------+---------+------------|
    |                |        |         | <10>       |
    | generateEffect | [[特效][特效]] | none    |   发电特效         |

**** 物品液体发电机
    继承 [[发电机][发电机]] -- 消耗物品液体的基础发电机类.液体会比物品优先消耗.英文：ItemLiquidGenerator

   | 接口               | 类型    | 默认值       | 备注      |
   |---------------------+---------+---------------+------------|
   |                     |         |               | <10>       |
   | minItemEfficiency   | float   | 0.2           |  物品最小效率          |
   | itemDuration        | float   | 70            | 一个物品发电时间. |
   | minLiquidEfficiency | float   | 0.2           | 液体最小效率           |
   | maxLiquidGenerate   | float   | 0.4           | 一帧消耗流体. |
   | generateEffect      | [[特效][特效]]  | generatespark |      发电特效      |
   | explodeEffect       | [[特效][特效]]  | generatespark |    爆炸特效        |
   | heatColor           | [[颜色][颜色]]   | ff9b59        |     热的颜色       |
   | randomlyExplode     | boolean | true          |     随机爆炸       |
   | default            | boolean | false         |      默认值      |

   备注:
   * 物品效率默认 0.0
   * 液体效率默认 0.0

   额外贴图:
   * ~<name>-top~ 当 ~hasItems~ 是 ~true~ 时
   * ~<name>-liquid~

**** 物品发电机
    继承 [[物品液体发电机][物品液体发电机]] -- 从物体中发电.英文：SingleTypeGenerator
**** 火力发电机
    继承 [[物品液体发电机][物品液体发电机]] -- 通过可燃物发电.英文：BurnerGenerator
**** 衰变发电机
    继承 [[物品液体发电机][物品液体发电机]] -- 通过辐射性发电.英文：DecayGenerator

    默认值:
    | 接口      | 默认值 |
    |------------+---------|
    | hasItems   | true    |
    | hasLiquids | false   |

*** 太阳能发电机
    继承 [[发电机][发电机]] -- 一个一直满效率的发电机.英文：SolarGenerator

    备注:
    * 相比于其他发电机，被怪打优先度最低.

**** 核电站
    继承 [[发电机][发电机]] -- 通过物品除了发电，无冷却爆炸.英文：NuclearReactor

    | 接口           | 类型  |  默认值 | 备注      |
    |-----------------+-------+----------+------------|
    |                 |       |          | <10>       |
    | coolColor       | [[颜色][颜色]] | ffffff00 |  冷却液颜色          |
    | hotColor        | [[颜色][颜色]] | ff9575a3 |     过热颜色       |
    | itemDuration    | float |      120 | 一个物品发电时间 |
    | heating         | float |     0.01 | 每帧乘容量百分比产热 |
    | smokeThreshold  | float |      0.3 | 开始冒烟温度 |
    | explosionRadius | int   |       40 |       爆炸范围     |
    | explosionDamage | int   |     1350 |       爆炸伤害     |
    | flashThreshold  | float |     0.46 | 开始警告温度 |
    | coolantPower    | float |      0.5 |    冷却液倍率        |

    默认值:

    | 接口          | 默认值 |
    |----------------+---------|
    | itemCapacity   | 30      |
    | liquidCapacity | 30      |
    | hasItems       | true    |
    | hasLiquids     | true    |

    额外贴图:
    * ~<name>-center~ 顶部
    * ~<name>-lights~ 亮光部分

**** 冲击反应堆
    继承 [[发电机][发电机]] -- 需要能量和时间启动的发电机.英文：ImpactReactor

    | 接口           | 类型  | 默认值 | 备注      |
    |-----------------+-------+---------+------------|
    |                 |       |         | <10>       |
    | plasmas         | int   |       4 | 等离子体数量 |
    | warmupSpeed     | float |   0.001 | 启动时间倍率           |
    | itemDuration    | float |      60 | 一个物品发电时间           |
    | explosionRadius | int   |      50 |  爆炸范围          |
    | explosionDamage | int   |    2000 |  爆炸伤害          |
    | plasma1         | [[颜色][颜色]] |  ffd06b |   等离子体1颜色         |
    | plasma2         | [[颜色][颜色]] |  ff361b |   等离子体2颜色         |

    默认值:
    | 接口          | 默认值 |
    |----------------+---------|
    | hasPower       | true    |
    | hasLiquids     | true    |
    | liquidCapacity | 30     |
    | hasItems       | true    |
    | outputsPower   | true    |
    | consumesPower  | true    |

    额外贴图:
    * ~<name>-bottom~ 底部
    * ~<name>-plasma-<i>~ 等离子体贴图,  ~i~ 是 ~0~ 到 ~plasmas - 1~.
** 生产工厂
   :PROPERTIES:
   :DESCRIPTION: 从自然获取资源的工厂
   :END:
*** 钻头
    继承 [[方块][方块]] -- 一组能从 [[矿物]] 获取物品的方块.英文：Drill

    | 接口                | 类型    | 默认值        | 备注      |
    |----------------------+---------+----------------+------------|
    |                      |         |                | <10>       |
    | tier                 | int     |                | 挖掘等级. |
    | drillTime            | float   | 300            | 挖一个矿的时间. |
    | liquidBoostIntensity | float   | 1.6            | 液体加速倍率. |
    | warmupSpeed          | float   | 0.02           | 预热速度. |
    | drawMineItem         | boolean | false          | 是否显示正在挖什么. |
    | drillEffect          | [[特效][特效]]  | mine           | 工作特效. |
    | rotateSpeed          | float   | 2              | 转动速度. |
    | updateEffect         | [[特效][特效]]  | pulverizeSmall | 随机特效. |
    | updateEffectChance   | float   | 0.02           | 随机特效概率. |
    | drawRim              | boolean | false          |   是否画悬臂         |
    | heatColor            | [[颜色][颜色]]   | ff5512         |    加热颜色        |

    默认值:
    | 接口           | 默认值 |
    |-----------------+---------|
    | update          | true    |
    | solid           | true    |
    | layer           | overlay |
    | group           | drills  |
    | hasLiquids      | true    |
    | liquidCapacity  | 5       |
    | hasItems        | true    |
    | idleSound       | drill   |
    | idleSoundVolume | 0.003   |

    贴图:
    * ~<name>-rim~
    * ~<name>-rotator~
    * ~<name>-top~

*** 固体泵
    继承 [[泵][泵]] -- 一个用能量在固体地面抽液体的机器，只能放在固体上面.英文：SolidPump

    | 接口              | 类型      | 默认值 | 备注 |
    |--------------------+-----------+-------+--|
    | result             | [[液体][液体]]    | water   | 产物 |
    | updateEffect       | [[特效][特效]]    | none    | 随机特效 |
    | updateEffectChance | float     | 0.02    | 随机特效概率 |
    | rotateSpeed        | float     | 1       | 转动速度 |
    | attribute          | [[属性][属性]] |         | 加速需求属性 |

    默认值:
    | 接口    | 默认值 |
    |----------+---------|
    | hasPower | true    |

    额外贴图:
    * ~<name>-liquid~

*** 培养机
    继承 [[普通加工厂][普通加工厂]]，英文：Cultivator

    | 接口      | 类型  | 默认值 | 备注 |
    |------------+-------+------+---|
    | recurrence | float |       6 | 显示设置，不影响工作 |

    默认值:
    | 接口       | 默认值 |
    |-------------+---------|
    | craftEffect | none    |

    额外贴图:
    * ~<name>-middle~
    * ~<name>-top~

*** 石油钻
    继承 [[固体泵][固体泵]]，英文：Fracker

    | 接口       | 默认值 | 备注 |
    |-------------+--------+-|
    | itemUseTime |     100 | 一个物体使用时间 |

    默认值:
    | 接口    | 默认值 |
    |----------+---------|
    | hasItems | true    |

    额外贴图:
    * ~<name>-liquid~
    * ~<name>-rotater~
    * ~<name>-top~
*** 焚化炉
    继承 [[方块][方块]]，英文：Incinerator

    | 接口      | 类型   |  默认值 | 备注 |
    |------------+--------+---+-------|
    |            |        |     | <r> |
    | effect     | [[特效][特效]] | fuelburn | 特效 |
    | flameColor | [[颜色][颜色]]  |   ffad9d | 火焰颜色 |

    默认值:

    | 接口     | 默认值 |
    |-----------+---------|
    |           |     <r> |
    | hasPower  |    true |
    | hasLiquid |    true |
    | update    |    true |
    | soild     |    true |
** 单位方块
   :PROPERTIES:
   :DESCRIPTION: 和单位做事的方块
   :END:
*** 修复点
    :PROPERTIES:
    :DESCRIPTION: 修单位的方块
    :END:
    继承 [[方块][方块]] -- 用激光修复附近单位.英文：RepairPoint

    | 接口        | 类型  | 默认值 | 备注 |
    |--------------+-------+--------+-|
    | repairRadius | float |      50 | 范围 |
    | repairSpeed  | float |     0.3 | 速度 |
    | powerUse     | float |         | 能量消耗 |

    默认值:
    | 接口       | 默认值 |
    |-------------+---------|
    | update      | true    |
    | solid       | true    |
    | hasPower    | true    |
    | outlineIcon | true    |
    | layer       | turret  |
    | layer2      | power   |

    额外贴图:
    * ~<name>-base~

*** 单位工厂
    :PROPERTIES:
    :DESCRIPTION: 生产单位的工厂
    :END:
    继承 [[方块][方块]]，英文：UnitFactory

    | 接口          | 类型     | 默认值 | 备注 |
    |----------------+----------+--------+-|
    | produceTime    | float    |    1000 | 制造时间 |
    | launchVelocity | float    |       0 | 出厂速度 |
    | maxSpawn       | int      |       4 | 最大容纳量 |
    | unitType       | [[单位类][单位类]] |    none | 制作单位 |

    默认值:

    | 接口    | 默认值  |
    |----------+----------|
    | update   | true     |
    | hasPower | true     |
    | hasItems | true     |
    | soild    | false    |
    | flags    | producer |

    额外贴图:
    * ~-top~

*** 指挥中心
    :PROPERTIES:
    :DESCRIPTION: 命令单位的方块
    :END:
    继承 [[方块][方块]]，英文：CommandCenter

    | 接口       | 类型   | 默认值     | 备注 |
    |-------------+--------+--------+-----|
    | topColor    | [[颜色][颜色]]  | command     | 顶部颜色 |
    | bottomColor | [[颜色][颜色]]  | 5e5e5e      | 底部颜色 |
    | effect      | [[特效][特效]] | commandSend | 特效 |

    默认值:

    | 接口        | 默认值      |
    |--------------+--------------|
    | flags        | comandCenter |
    | destructible | true         |
    | soild        | true         |
    | configurable | true         |

*** 玩家机甲板
    :PROPERTIES:
    :DESCRIPTION: 
    :END:
    继承 [[方块][方块]] -- 生存玩家机甲的板子.英文：MechPad

    | 接口     | 类型  | 默认值 | 备注 |
    |-----------+-------+--------+-|
    | mech      | [[玩家机甲][玩家机甲]]  | none    | 玩家机甲种类 |
    | buildTime | float | 60 * 5  | 制作时间 |

    默认值:

    | 接口    | 默认值 |
    |----------+---------|
    | update   | true    |
    | soild    | true    |
    | hasPower | true    |
    | layer    | overlay |
    | flags    | mechpad |

** 存储
   :PROPERTIES:
   :DESCRIPTION: 主要用来存储物品的方块
   :END:
*** 存储方块
    :PROPERTIES:
    :DESCRIPTION: 所有存储方块的父类
    :END:

    [[Abstract][Abstract]] 修饰类继承 [[方块]]，英文：StorageBlock

    默认值:
    | 接口    | 默认值 |
    |----------+---------|
    | hasItems | true    |

*** 核心
    :PROPERTIES:
    :DESCRIPTION: 核心方块
    :END:
    继承 [[StorageBlock]]，英文：CoreBlock

    | 接口 | 类型 | 默认值 | 备注 |
    |-------+------+--------+-|
    | mech  | Mech | starter | 初始玩家机甲 |

    默认值:

    | 接口             | 默认值    |
    |-------------------+------------|
    | solid             | true       |
    | update            | true       |
    | hasItems          | true       |
    | activeSound       | respawning |
    | activeSoundVolume | 1          |
    | layer             | overlay    |

*** 仓库
    :PROPERTIES:
    :DESCRIPTION: 存储物品的方块
    :END:
    继承 [[存储方块][存储方块]]，英文：Vault

    默认值:

    | 接口             | 默认值    |
    |-------------------+------------|
    | solid             | true       |
    | destructible      | true       |
    | update            | false      |

*** 卸载器
    :PROPERTIES:
    :DESCRIPTION: 从存储方块中卸载物品
    :END:

    继承 [[方块][方块]]
    一个方块可以从 [[存储方块]], 比如 [[仓库]], [[核心]] 或 [[工厂][工厂]] 中拿物品.英文：Unloader

    | 接口 | 类型  | 默认值 | 备注 |
    |-------+-------+--------+-|
    | speed | float | 1       | 速度 |

    默认值:

    | 接口        | 默认值 |
    |--------------+---------|
    | solid        | true    |
    | health       | 70      |
    | update       | false   |
    | hasItems     | true    |
    | confugurable | true    |

    额外贴图:
    * ~<name>-center~


*** 发射器
    :PROPERTIES:
    :DESCRIPTION: 不经过核心发射物品
    :END:
    继承 [[存储方块][存储方块]]，英文：LaunchPad

    一个可以发射物品的方块.

    | 接口      | 类型  | 默认值 | 备注 |
    |------------+-------+--------+-|
    | launchTime | float | none    | 发射间隔 |

    默认值:

    | 接口    | 默认值 |
    |----------+---------|
    | update   | true    |
    | hasItems | true    |
    | soild    | true    |

** 属性

   属于一个抽象物品的一个组 [[属性][属性]]. 在 ~地板~ 中使用来给地板一个特殊属性, 比如 /热量/ 和 /孢子度/ 来给某些机器提效, 比如泵和培养机.

   ~属性组~ 有4个属性:

   * 第 ~0~ 个是 ~热量~,
   * 第 ~1~ 个是 ~孢子度~,
   * 第 ~2~ 个是 ~含水度~,
   * 第 ~3~ 个是 ~含油度~.

    举个例子, 当你给一个地板 ~100~ 热量, ~1~ 孢子度, ~0.5~ 含水度和 ~0.1~ 含油度.

    #+BEGIN_SRC json
    {
        "array": [ 100, 1, 0.5, 0.1]
    }
    #+END_SRC

    你可以把这个放 [[地板][地板]] 类的文件里面，比如:

    #+BEGIN_SRC json
    {
        "type": "Floor",
        "name": "magma",
        "attributes": { "array": [ 0.75, 0, 0, 0 ] }
    }
    #+END_SRC

** 属性

   不能添加新属性. 这里是内建属性:

   * ~heat~ 热量
   * ~spores~ 孢子度
   * ~water~ 含水度
   * ~oil~ 含油度
** 建筑菜单可见性

   有以下选项:
   * ~hidden~ 隐藏
   * ~shown~ 显示
   * ~debugOnly~ debug模式显示
   * ~sandboxOnly~ 沙盒模式显示
   * ~campaignOnly~ 战役模式显示
** 方块组别

   各个内建组别:
   * ~none~
   * ~walls~
   * ~turrets~
   * ~transportation~
   * ~power~
   * ~liquids~
   * ~drills~


* 种类
  :PROPERTIES:
  :DESCRIPTION: 所有的建筑物.
  :END:

** 物品

   继承 [[内容][内容]] -- 只是一个可以上传送带，分类器和物品容器的东西的东西，经常用于工厂中。

   | 接口          | 类型     | 默认值 | 备注      |
   |----------------+----------+---------+------------|
   |                |          |         | <10>       |
   | color          | [[颜色][颜色]]    |         | 分类器显示色 |
   | type           | [[物品][物品]] |         | ~resource~ 或是 ~material~ ; resource不能进核心，反之 |
   | explosiveness  | float    | ~0~     | 爆炸性. |
   | flammability   | float    | ~0~     | 可燃性，大于 0.3 就可以用于燃烧发电机. |
   | radioactivity  | float    |         | 辐射性，0=是没有, 1=切尔诺贝利的辐射性 |
   | hardness       | int      | ~0~     | 挖掘等级 |
   | cost           | float    | ~1~     | 用于计算建筑物建筑时间; 1 cost = 增加建筑世界一帧 |
   | alwaysUnlocked | boolean  | ~false~ | 是否始终解锁. |
** 物品组

   告诉工厂输入/输出的物品的类.一个物品组应该包含以下元素:

   | 接口  | 类型 | 默认值 | 备注 |
   |--------+------+--------+-|
   | amount | int  |       1 | 数量 |
   | item   | [[物品][物品]] |         | 物品名字 |

   例子:

   #+BEGIN_SRC json
   [
       { "amount": 30, "item": "surge-alloy" },
       { "amount": 90, "item": "copper" }
   ]
   #+END_SRC

** 液体

   继承 [[内容]] -- 定义液体的东西.

   | 接口         | 类型         | 默认值 | 备注      |
   |---------------+--------------+---------+------------|
   |               |              |     <r> | <10>       |
   | color         | [[颜色][颜色]]        |         | *[必须]* 液体颜色 |
   | barColor      | [[颜色]]        |         | /[非必须]/ UI中颜色. |
   | flammability  | float        |         | 可燃性，从0 到 1; 0 是完全不可燃, 向上增长会被热源点燃. |
   | temperature   | float        |     0.5 | 温度，0.5 是室温, 0 是很冷, 1 是像融化了一样热 |
   | heatCapacity  | float        |     0.5 | 比热容，用于冷却; 水是 0.4 |
   | viscosity     | float        |     0.5 | 粘度; 水是 0.5, 石油是 1. |
   | explosiveness | float        |         | 爆炸性; 0 什么都没有, 1 是核弹 |
   | effect        | [[状态][状态]] |    none | 接触此液体获得的状态. |

** 液体组

    这个类被方块使用,用于消耗液体,像 [[物品组][物品组]] 一样，但是里面只能包含一种液体.

    | 接口  | 类型   | 备注 |
    |--------+------+--|
    | liquid | [[液体][液体]] | 液体种类 |
    | amount | float  | 数量 |

    例子:

    #+BEGIN_SRC json
 {
    "liquid": "water",
    "amount": 0.5
 }
    #+END_SRC

** 武器

   武器被单位使用,无论是飞行单位还是地面单位,或是玩家机甲.这个是它们射子弹的工具.

   | 接口          | 类型       | 默认值 | 备注      |
   |----------------+------------+---------+------------|
   |                |            |         | <10>       |
   | name           | string     |         |  武器名          |
   | minPlayerDist  | float      |      20 | 鼠标指针离单位最低距离. |
   | sequenceNum    | int        |       0 |  射击多次装弹减慢程度          |
   | bullet         | [[子弹类][子弹类]] |         | 射的子弹类型 |
   | ejectEffect    | [[特效][特效]]     |    none | 射击特效 |
   | reload         | float      |         | 重新装弹时间 |
   | shots          | int        |       1 | 一发打多少子弹 |
   | spacing        | float      |      12 | 一次打出多个子弹时，子弹间角 |
   | inaccuracy     | float      |       0 | 精准度 |
   | shake          | float      |       0 | 屏幕摇晃 |
   | recoil         | float      |     1.5 | 后坐力. |
   | length         | float      |       3 | 武器长 |
   | width          | float      |       4 | 武器宽. |
   | velocityRnd    | float      |       0 | 弹速随机改变区间 |
   | alternate      | bool       |   false | 是否左右手轮流射击 |
   | lengthRand     | float      |       0 | 子弹出现离武器口距离 |
   | shotDelay      | float      |       0 | 射击延迟 |
   | ignoreRotation | boolean    |   false | 是否在射击时忽略转动. |
   | shootSound     | [[音效][音效]]      |     pew |     射击音效       |
** 单位类

   继承 [[内容]]

   | 接口           | 类型     | 默认值 | 备注
   |-----------------+----------+-----+----|
   | type            | [[基础单位][基础单位]] |         | 单位类型 |
   | health          | float    |      60 | 血量 |
   | hitsize         | float    |       7 | 碰撞箱大小 |
   | hitsizeTile     | float    |       4 | 相对地板碰撞箱大小，地面单位用 |
   | speed           | float    |     0.4 | 速度 |
   | range           | float    |       0 | 瞄准距离
   | attackLength    | float    |     150 | 攻击距离 |
   | rotatespeed     | float    |     0.2 | 转身速度 |
   | baseRotateSpeed | float    |     0.1 | 基础转身速度 |
   | shootCone       | float    |      15 | 射击偏角 |
   | mass            | float    |       1 | 惯性倍率 |
   | flying          | boolean  |         | 是否飞行 |
   | targetAir       | boolean  |    true | 是否对空 |
   | rotateWeapon    | boolean  |   false | 是否旋转武器 |
   | drag            | float    |     0.1 | 减速倍率 |
   | maxVelocity     | float    |       5 | 最大速度 |
   | retreatPercent  | float    |     0.6 | 一次修复的修复倍率 |
   | itemCapacity    | int      |      30 | 物品容量 |
   | buildPower      | float    |     0.3 | 建筑力 |
   | minePower       | float    |     0.7 | 挖矿力 |
   | weapon          | [[武器][武器]]   |         | 武器 |
   | weaponOffsetY   | float    |         | 武器离单位中心距离 |
   | engineOffset    | float    |         |  引擎离单位中心距离 |
   | engineSize      | float    |         | 引擎大小 |
   | toMine          | [[物品]] | copper,lead   | 挖的东西 |
   | deathSound      | [[音效]] | bang | 死亡音效 |

** 玩家机甲

   继承 [[内容]] -- 玩家机甲是玩家控制的实体.

   | 接口              | 类型    | 默认值 | 备注 |
   |--------------------+---------+--------+-|
   | flying             | boolean |         | 是否飞行 |
   | speed              | float   |     1.1 | 速度 |
   | maxSpeed           | float   |      10 | 最大速度 |
   | boostSpeed         | float   |    0.75 | 加速度 |
   | drag               | float   |     0.4 | 混合速度减速倍率 |
   | mass               | float   |       1 | 惯性倍率 |
   | shake              | float   |       0 | 摇晃 |
   | health             | float   |     200 | 血量 |
   | hitsize            | float   |       6 | 碰撞箱 |
   | cellTrnsY          | float   |       0 | 渲染参数，指示灯偏置 |
   | mineSpeed          | float   |       1 | 挖矿速度 |
   | drillPower         | int     |      -1 | 挖矿力 |
   | buildPower         | float   |       1 | 建筑力 |
   | engineColor        | [[颜色][颜色]]   | boostTo | 引擎颜色 |
   | itemCapacity       | int     |      30 | 物品容量 |
   | turnCursor         | boolean |    true | 射击是否转向鼠标指向 |
   | canHeal            | boolean |   false | 可治疗 |
   | compoundSpeed      | float   |       5 | 混合速度，影响最大速度 |
   | compoundSpeedBoost | float   |       5 | 混合加速度 |
   | weaponOffsetY      | float   |       5 | 武器偏置距离 |
   | engineOffset       | float   |       5 | 引擎偏置距离 |
   | engineSize         | float   |     2.5 | 引擎大小 |
   | weapon             | [[武器][武器]]  |    null | 武器 |

** 内容菜单类型

   建筑菜单中的内容类型:
   * ~turret~ 炮塔;
   * ~production~ 产生资源的工厂;
   * ~distribution~ 运输物品的方块;
   * ~liquid~ 运输液体的方块;
   * ~power~ 产能输能的方块;
   * ~defense~ 墙和防御工事;
   * ~crafting~ 加工物品的工厂;
   * ~units~ 生产单位的工厂;
   * ~upgrade~ 玩家机甲升级板;
   * ~effect~ 仓库和范围buff机器.

** 区域
   :PROPERTIES:
   :DESCRIPTION: 用来添加战役
   :END:

   继承 [[内容]] 

   一个 ~区域~ 是一个可以创建战役地图 /(地图名要和区域JSON名相同)/ 的类. /(区域不是地图)/

   每个 ~区域~ 都有一个 ~生成器~, 当它们加载时, ~地图生成器~ 会加工这个地图 /加载一些装饰等./ 有一个要注意的是, 塔会删除地图上面的所有核心并在随机一个原核心处放置 ~发射图~ . 这让你的战役能有多个核心位置. /(原核心对生成后的没有影响, ~发射图~ 会生成其中的核心)/

   发射图可以用蓝图来自定义,但是要注意其中必须要用核心方块.

   | 接口                | 类型          | 默认值     | 备注      |
   |----------------------+---------------+-------------+------------|
   |                      |               |             | <10>       |
   | baseLaunchCost       | [[物品组]]     |             |    基础发射消耗资源        |
   | launchCost           | [[物品组]]     |             |    发射消耗资源        |
   | startingItems        | [[物品组]]     |             | 初始物品. |
   | conditionWave        | int           | MAX_VALUE   |  总波数          |
   | alwaysUnlocked       | boolean       | false       | 地图是否一直解锁 |
   | launchPeriod         | int           | 10          | 核心发射间隔波次. |
   | loadout              | [[蓝图]]     | basicShard  | 初始核心. |
   | resources            | [ String ]    |             | 一个 [[物品][物品]] 名字的组. |
   | requirements         | [ [[元素]] ] |             | 一组开启地图的条件. |
   | configureObjective   | [[元素]]     | ZoneWave 15 |  可自定义发射物品波次          |
   | defaultStartingItems | [[物品组]]     |             |  默认初始物品          |


   额外贴图:
   * ~zone-<name>~ 预览图
   * ~<name>-zone~ 预览图
   
   内建发射图:
   * basicShard ~bXNjaAB4nD2K2wqAIBiD5ymibnoRn6YnEP1BwUMoBL19FuJ2sbFvUFgYZDaJsLeQrkinN9UJHImsNzlYE7WrIUastuSbnlKx2VJJt+8IQGGKdfO/8J5yrGJSMegLg+YUIA==~ \\
    [[file:img/basicShard.png]]
   * advancedShard ~bXNjaAB4nD2LjQqAIAyET7OMIOhFfJqeYMxBgSkYCL199gu33fFtB4tOwUTaBCP5QpHFzwtl32DahBeKK1NwPq8hoOcUixwpY+CUxe3XIwBbB/pa6tadVCUP02hgHvp5vZq/0b7pBHPYFOQ=~ \\
    [[file:img/advancedShard.png]]
   * basicFoundation ~bXNjaAB4nD1OSQ6DMBBzFhVu8BG+0X8MQyoiJTNSukj8nlCi2Adbtg/GA4OBF8oB00rvyE/9ykafqOIw58A7SWRKy1ZiShhZ5RcOLZhYS1hefQ1gRIeptH9jq/qW2lvc1d2tgWsOfVX/tOwE86AYBA==~ \\
    [[file:img/basicFoundation.png]]
   * basicNucleus ~bXNjaAB4nD2MUQqAIBBEJy0s6qOLdJXuYNtCgikYBd2+LNmdj308hkGHtkId7M4YFns4mk/yfB4a48602eDI+mlNznu0FMPFd0wYKCaewl8F0EOueqM+yKSLVfJrNKWnSw/FZGzEGXFG9sy/px4gEBW1~ \\
    [[file:img/basicNucleus.png]]
	
   内建战役地图:
   * nuclearComplexe
   * desolateRift
   * tarFields
   * overgrowth
   * stainedMountains
   * frozenForest
   * saltFlats
   * desertWastes
   * groundZero

** 状态

   /不要和 [[特效][特效]] 搞混/,状态会给一个实体额外属性.现在 *你不可以添加自定义的状态*. -- 状态有时会充当效果的两个条件. 比如一个 ~wet~ 的单位获得了 ~shocked~ 此时它会掉20血.

   | 接口            | 类型   | 默认值 |   备注         |
   |------------------+--------+---------+------------|
   |                  |        |         | <10>       |
   | damageMultiplier | float  |       1 |   输出伤害倍率         |
   | armorMultiplier  | float  |       1 |   护甲倍率         |
   | speedMultiplier  | float  |       1 |   速度倍率         |
   | color            | [[颜色][颜色]]  |   white |  颜色          |
   | damage           | float  |         | 一帧掉血，或回血. |
   | effect           | [[特效][特效]] |    none | 在单位上出现，状态特效 (一帧0.15%几率触发). |

   * 备注: 状态消耗状态时间.

   内建状态:

   * ~none~ -- 无效果.

   * ~burning~ -- 燃烧
     | 接口  | 默认值   |
     |--------+---------|
     | damage | 0.06    |
     | effect | burning |
     * 对立状态: ~wet~ ~freezing~
     * 如果获得石油状态: 持续燃烧并扣一血一帧

   * ~freezing~ -- 冰冻
     | 接口           |    value |
     |-----------------+----------|
     | speedMultiplier |      0.6 |
     | armorMultiplier |      0.8 |
     | effect          | freezing |
     * 对立状态: ~melting~ ~burning~

   * ~wet~ -- 湿水
     | 接口           | value |
     |-----------------+-------|
     | speedMultiplier | 0.9   |
     | effect          | wet   |
     * 对立状态: ~burning~
     * 如果获得电击状态: 扣20血

   * ~melting~ -- 融化
     | 接口           |   value |
     |-----------------+---------|
     | speedMultiplier |     0.8 |
     | armorMultiplier |     0.8 |
     | damage          |     0.3 |
     | effect          | melting |
     * 对立状态: ~wet~ ~freezing~
     * 如果获得石油状态: 持续此效果

   * ~tarred~ -- 石油
     | 接口           | value |
     |-----------------+---------|
     | speedMultiplier | 0.6     |
     | effect          | oily    |
     * burning: 持续燃烧
     * melting: 持续获得融化效果

   * ~overdrive~ -- 超频
     | 接口            |      value |
     |------------------+------------|
     | armorMultiplier  |       0.95 |
     | speedMultiplier  |       1.15 |
     | damageMultiplier |        1.4 |
     | damage           |      -0.01 |
     | effect           | overdriven |

   * ~shielded~ -- 护盾
     | 接口           | value |
     |-----------------+-------|
     | armorMultiplier |     3 |

   * ~boss~ -- boss效果
     | 接口            | value |
     |------------------+-------|
     | armorMultiplier  |     3 |
     | damageMultiplier |     3 |
     | speedMultiplier  |   1.1 |

   * ~shocked~ -- 电击，无效果.

   * ~corroded~ --腐蚀
     | 接口  | value |
     |--------+-------|
     | damage |   0.1 |


* 图像
  :PROPERTIES:
  :DESCRIPTION: 渲染参数.
  :END:
** 渲染层

   渲染层是一个类,会让渲染器在如下层数渲染方块:

   * ~block~, 基础方块层;
   * ~placement~, 地板层，用于放置层;
   * ~overlay~, 二层地板层，比如传送带;
   * ~turret~, 像炮塔一样的高方块;
   * ~power~ 电线
** 颜色

   颜色是十六进制的文字串, ~<rr><gg><bb>~ 比如:

   * ~ff0000~ 是红色,
   * ~00ff00~ 是绿色,
   * ~00ffff~ 是蓝色,
   * ~ffff00~ 是黄色,
   * ~00ffff~ 是青色,
   * /ect../


* 实体
  :PROPERTIES:
  :DESCRIPTION: 实际存在的物体.
  :END:
** 子弹类

   [[Abstract][Abstract]] 修饰类继承 [[内容][内容]] -- 子弹类可以是元素或者是文字组,用文字组就是调用内建子弹,用元素就是创建自定义子弹.子弹类里面有两种主要子弹: [[基础子弹]] 和其他特殊子弹.

   | 接口              | 类型         | 默认值 | 备注      |
   |--------------------+--------------+---------+------------|
   |                    |              |         | <10>       |
   | lifetime           | float        |         | 子弹存在时间 |
   | speed              | float        |         | 子弹速度 |
   | damage             | float        |         | 伤害 |
   | hitSize            | float        |       4 | 碰撞箱大小 |
   | drawSize           | float        |      40 |  渲染大小          |
   | drag               | float        |       0 | 每帧减速 |
   | pierce             | boolean      |         | 是否穿透 |
   | hitEffect          | [[特效][特效]]       |         | 击中特效 |
   | despawnEffect      | [[特效][特效]]       |         | 超时特效 |
   | shootEffect        | [[特效][特效]]       |         | 射击特效 |
   | smokeEffect        | [[特效][特效]]       |         | 射击烟雾特效 |
   | hitSound           | [[音效]]        |         | 子弹击中音效 |
   | inaccuracy         | float        |       0 | 额外精准度 |
   | ammoMultiplier     | float        |       2 | 一个物品/液体可以当多少子弹用 |
   | reloadMultiplier   | float        |       1 | 装弹速度倍率 |
   | recoil             | float        |         | 额外后坐力 |
   | splashDamage       | float        |       0 | 范围伤害           |
   | knockback          | float        |         | 被击中单位减速. |
   | hitTiles           | boolean      |    true | 这个子弹是否打方块. |
   | status             | [[状态][状态]] |    none | 击中给予状态. |
   | statusDuration     | float        |     600 | 状态持续时间. |
   | collidesTiles      | boolean      |    true | 是否与方块碰撞. |
   | collidesTeam       | boolean      |   false | 是否与同队的单位碰撞. |
   | collidesAir        | boolean      |    true | 是否和空中单位碰撞. |
   | collides           | boolean      |    true | 是否开启碰撞. |
   | keepVelocity       | boolean      |    true | 是否定速巡航. |
   | fragBullets        | int          |       9 | 破片弹数           |
   | fragVelocityMin    | float        |     0.2 | 破片弹最小初速度           |
   | fragVelocityMax    | float        |       1 | 破片弹最大初速度           |
   | fragBullet         | [[子弹类][子弹类]]   |    null |  破片弹          |
   | splashDamageRadius | float        |      -1 | 范围伤害范围.负数来取消范围伤害 |
   | incendAmount       | int          |       0 | 火焰数量           |
   | incendSpread       | float        |       8 | 火焰蔓延速度           |
   | incendChance       | float        |       1 | 产生火焰几率          |
   | homingPower        | float        |       0 | 追踪力度，不会做任何效果; 如果 ~homingPower~ 大于 ~0.01~ 子弹就会在UI上显示追踪, 如果 ~homingPower~ 大于 ~0.0001~ 它会让 ~homingRange~ 触发. |
   | homingRange        | float        |      50 | 追踪范围. |
   | lightining         | int          |         | 闪电数量           |
   | lightningLength    | int          |       5 | 闪电长           |
   | hitShake           | float        |       0 | 击中摇晃           |

*** 基础子弹
    :PROPERTIES:
    :DESCRIPTION: 普通的子弹
    :END:
    继承 [[子弹类]]，英文：BasicBulletType

    这个类主要是给子弹上贴图. 用 ~bulletSprite~ 参数可以改变子弹贴图. 贴图中的可见像素会被 ~backColor~ 和 ~frontColor~ 原图保留地着色. 举个例子，如果你有一个贴图叫 ~router.png~ 和一个叫 ~router-back.png~ 的贴图在 ~测试 Mod~ 里面, 你可以这样写 ~bulletSprite~ 参数:

    #+BEGIN_SRC json
    {
        "ammo": {
            "copper": {
                "type": "BasicBulletType",
                "bulletSprite": "test-mod-router"
            }
        }
    }
    #+END_SRC

    [[file:img/router-bullets.png]]

    | 接口        | 类型   |          默认值 | 备注           |
    |--------------+--------+------------------+------------|
    |              |        |              <r> | <10>       |
    | backColor    | [[颜色][颜色]]  | bulletYellowBack | ~<name>-back~ 贴图的颜色. |
    | frontColor   | [[颜色][颜色]]  |     bulletYellow | ~<name>~ 贴图的颜色. |
    | bulletSprite | String |           bullet | 子弹贴图. |
    | bulletWidth  | float  |                5 | 子弹宽           |
    | bulletHeight | float  |                7 |  子弹长          |
    | bulletShrink | float  |              0.5 |  子弹缩小率          |

    额外贴图:
    * ~<mod-name>-<sprite-name>~ 是 ~bulletSprite~ 的顶层
    * ~<mod-name>-<sprite-name>-back~ 是 ~bulletSprite~ 的底层

    内建 ~子弹贴图~:
    * [[https://raw.githubusercontent.com/Anuken/Mindustry/master/core/assets-raw/sprites/effects/bullet.png][bullet]]
    * [[https://raw.githubusercontent.com/Anuken/Mindustry/master/core/assets-raw/sprites/effects/bullet-back.png][bullet-back]]
    * [[https://raw.githubusercontent.com/Anuken/Mindustry/master/core/assets-raw/sprites/effects/missile.png][missile]]
    * [[https://raw.githubusercontent.com/Anuken/Mindustry/master/core/assets-raw/sprites/effects/missile-back.png][missile-back]]
    * [[https://raw.githubusercontent.com/Anuken/Mindustry/master/core/assets-raw/sprites/effects/shell.png][shell]]
    * [[https://raw.githubusercontent.com/Anuken/Mindustry/master/core/assets-raw/sprites/effects/shell-back.png][shell-back]]

**** 炮塔弹
     :PROPERTIES:
     :DESCRIPTION: 下雨一般的特效
     :END:
     继承 [[基础子弹]]，英文：ArtilleryBulletType

     用一个特殊的公式计算这个子弹的速度，轨迹和目标.
	 
     | 接口       | 类型   | 默认值        | 备注 |
     |-------------+--------+---------------+-|
     | trailEffect | [[特效][特效]] | artilleryTrail | 尾迹特效 |

     默认值:

     | 接口         | 类型      |
     |---------------+-----------|
     | collidesTiles | false     |
     | collides      | false     |
     | collidesAir   | false     |
     | hitShake      | 1         |
     | hitSound      | explosion |
     | bulletSprite  | shell     |
	 
**** 破片弹
     :PROPERTIES:
     :DESCRIPTION: 融合在一起
     :END:
     继承 [[基础子弹]]，英文：FlakBulletType

     炸敌人的子弹.

     | 接口        | 类型  | 默认值 | 备注 |
     |--------------+-------+---------+------------|
     |              |       |         | <10>       |
     | explodeRange | float |      30 | 爆炸范围. |

     默认值:

     | 接口              |             类型 |
     |--------------------+------------------|
     | splashDamage       |               15 |
     | splashDamageRadius |               34 |
     | hitEffect          | flakExplosionBig |
     | bulletWidth        |                8 |
     | bulletHeight       |               10 |

**** 导弹
     :PROPERTIES:
     :DESCRIPTION: 特效和尾迹
     :END:
     继承 [[基础子弹]]，英文：MissileBulletType

     | 接口      | 类型  |           默认值 | 备注 |
     |------------+-------+-----------------+--|
     | trailColor | [[颜色][颜色]] | missileYellowBack | 尾迹颜色 |
     | weaveScale | float |                 0 | weaveScale大于0启用，转动半径 |
     | weaveMag   | float |                -1 | 变向力 |

     Defaults:
     | field        | default |
     |--------------+---------|
     | bulletSprite | missile |
	 
**** 炸弹
     :PROPERTIES:
     :DESCRIPTION: 主要重写了很多东西
     :END:

     继承 [[基础子弹]]，英文：BombBulletType

     默认值:

     | 接口         | 默认值   |
     |---------------+-----------|
     | collidesTiles | false     |
     | collides      | false     |
     | bulletShrink  | 0.7       |
     | lifetime      | 30        |
     | drag          | 0.05      |
     | keepVelocity  | false     |
     | collidesAir   | false     |
     | hitSound      | explosion |

*** 治疗子弹

    继承 [[子弹类]] -- 可以治疗同队方块和单位的子弹.英文：HealBulletType

    | 接口       | 类型  | 默认值 | 备注 |
    |-------------+-------+--------+-|
    | healPercent | float |       3 | 治疗百分比 |

    默认值:

    | 接口         | 默认值  |
    |---------------+-----------|
    | shootEffect   | shootHeal |
    | smokeEffect   | hitLaser  |
    | hitEffect     | hitLaser  |
    | despawnEffect | hitLaser  |
    | collidesTeam  | true      |

*** 液体子弹

    继承 [[子弹类]]，英文：LiquidBulletType

    | 接口  | 类型   | 默认值 | 备注      |
    |--------+--------+---------+------------|
    |        |        |         | <10>       |
    | liquid | String | null    | *[必须]* [[液体]]的名字 |

    默认值:

    | 接口          | 默认值   |
    |----------------+-----------|
    | lifetime       | 74        |
    | statusDuration | 90        |
    | despawnEffect  | none      |
    | hitEffect      | hitLiquid |
    | smokeEffect    | none      |
    | shootEffect    | none      |
    | drag           | 0.009     |
    | knockback      | 0.55      |

*** 质驱子弹

    继承 [[子弹类]]，英文：MassDriverBolt

    默认值:

    | 接口         | 默认值      |
    |---------------+--------------|
    | collidesTiles | false        |
    | lifetime      | 200          |
    | despawnEffect | smeltsmoke   |
    | hitEffect     | hitBulletBig |
    | drag          | 0.005        |

*** 内建子弹

   * 炮塔弹:
     * ~artilleryDense~ ~arilleryPlastic~ ~artilleryPlasticFrag~ ~artilleryHoming~ ~artlleryIncendiary~ ~artilleryExplosive~ ~artilleryUnit~
   * 分裂弹:
     * ~flakScrap~ ~flakLead~ ~flakPlastic~ ~flakExplosive~ ~flakSurge~ ~flakGlass~ ~glassFrag~
   * 导弹:
     * ~missileExplosive~ ~missileIncendiary~ ~missileSurge~ ~missileJavelin~ ~missileSwarm~ ~missileRevenant~
   * 基础子弹:
     * ~standardCopper~ ~standardDense~ ~standardThorium~ ~standardHoming~ ~standardIncendiary~ ~standardMechSmall~ ~standardGlaive~ ~standardDenseBig~ ~standardThoriumBig~ ~standardIncendiaryBig~
   * 电子弹:
     * ~lancerLaser~ ~meltdownLaser~ ~lightning~ ~arc~ ~damageLightning~
   * 液体子弹:
     * ~waterShot~ ~cryoShot~ ~slagShot~ ~oilShot~
   * 环境及其他:
     * ~fireball~ ~basicFlame~ ~pyraFlame~ ~driverBolt~ ~healBullet~ ~healBulletBig~ ~frag~ ~eruptorShot~
   * 炸弹:
     * ~bombExplosive~ ~bombIncendiary~ ~bombOil~

** 基础单位

   以下是基础单位类:

   * ~FlyingUnit~ --飞行单位
     * ~Revenant~ -- 战机
     * ~BaseDrone~ -- 基础无人机
       * ~BuilderDrone~ -- 建筑机
       * ~MinerDrone~ -- 矿机
       * ~RepairDrone~ -- 修理机
   * ~GroundUnit~ -- 地面单位

** 特效

   你需要输入 ~文字串~. 你不能创建新特效. 这里是内建特效:

   * ~none~/无/ ~placeBlock~/放方块/ ~breakBlock~/破坏方块/ ~smoke~/冒烟/ ~spawn~/生成/ ~tapBlock~/点击方块/ ~select~/选择/
   * ~vtolHover~/作者还没有用过/ ~unitDrop~/拿起物品/ ~unitPickup~/放下物品/ ~unitLand~/着陆/ ~pickup~/捡起/ ~healWave~/治疗波/ ~heal~/治疗/
       ~landShock~/地雷/ ~reactorsmoke~/反应堆烟雾/ ~nuclearsmoke~/核烟雾/ ~nuclearcloud~/核云/
   * ~redgeneratespark~/红色发电特效/ ~generatespark~/发电特效/ ~fuelburn~/燃料燃烧/ ~plasticburn~/塑料燃烧/ ~pulverize~/压缩/
       ~pulverizeRed~/红色压缩/ ~pulverizeRedder~/更红的压缩/ ~pulverizeSmall~/小型压缩/ ~pulverizeMedium~/中型压缩/
   * ~producesmoke~/生产烟雾/ ~smeltsmoke~/冶炼烟雾/ ~formsmoke~/成型烟雾/ ~blastsmoke~/火焰烟雾/ ~lava~/岩浆/ ~doorclose~/关门/
       ~dooropen~/开门/ ~dooropenlarge~/开大门/ ~doorcloselarge~/关大门/ ~purify~/纯化/ ~purifyoil~/纯化油/ ~purifystone~/纯化石头/ ~generate~/生成/
   * ~mine~/挖矿/ ~mineBig~/大挖矿/ ~mineHuge~/巨型挖矿/ ~smelt~/冶炼/ ~teleportActivate~/传送启动/ ~teleport~/传送/ ~teleportOut~/传送出来/ ~ripple~/浪涌/ ~bubble~/气泡/ ~launch~/发射/
   * ~healBlock~/治疗方块/ ~healBlockFull~/完全治疗方块/ ~healWaveMend~/修理投影治疗波/ ~overdriveWave~/超频波/ ~overdriveBlockFull~/全超频波/ ~shieldBreak~/破盾/ ~hitBulletSmall~/小型子弹击中/ ~hitFuse~/融合击中/
   * ~hitBulletBig~/大型子弹击中/ ~hitFlameSmall~/大型火焰击中/ ~hitLiquid~/液体击中/ ~hitLaser~/镭射击中/ ~hitLancer~/蓝瑟击中/ ~hitMeltdown~/融毁击中/ ~despawn~/消失/ ~flakExplosion~/破片爆炸/ ~blastExplosion~/爆混爆炸/
   * ~plasticExplosion~/塑料爆炸/ ~artilleryTrail~/炮塔弹尾迹/ ~incendTrail~/燃烧弹尾迹/ ~missileTrail~/导弹尾迹/ ~absorb~/吸引/ ~flakExplosionBig~/破片弹大爆炸/ ~plasticExplosionFlak~/塑料破片弹爆炸/ ~burning~/燃烧/ ~fire~/火焰/
   * ~fireSmoke~/火焰烟雾/ ~steam~/蒸汽/ ~fireballsmoke~/火球烟雾/ ~ballfire~/获取/ ~freezing~/冰冻/ ~melting~/融化/ ~wet~/湿水/ ~oily~/沾油/ ~overdriven~/超频/ ~dropItem~/丢物品/ ~shockwave~/冲击波/
   * ~bigShockwave~/大冲击波/ ~nuclearShockwave~/核冲击波/ ~explosion~/爆炸/ ~blockExplosion~/方块爆炸/
       ~blockExplosionSmoke~/方块爆炸烟雾/ ~shootSmall~/小型射击/ ~shootHeal~/射击治疗弹/ ~shootSmallSmoke~/小型射击烟雾/ ~shootBig~/大型射击/ ~shootBig2~/大型射击2/ ~shootBigSmoke~/大型射击烟雾/
   * ~shootBigSmoke2~/大型射击烟雾2/ ~shootSmallFlame~/学习射击火焰/ ~shootPyraFlame~/硫射击火焰/ ~shootLiquid~/射击液体/ ~shellEjectSmall~/小型喷射/ ~shellEjectMedium~/中型喷射/
   * ~shellEjectBig~/大型喷射/ ~lancerLaserShoot~/蓝瑟射击/ ~lancerLaserShootSmoke~/蓝瑟射击烟雾/ ~lancerLaserCharge~/蓝瑟充能/
       ~lancerLaserChargeBegin~/蓝瑟开始充能/ ~lightningCharge~/电弧充能/ ~lightningShoot~/电弧射击/
   * ~unitSpawn~/单位生成/ ~spawnShockwave~/生成冲击波/ ~magmasmoke~/岩浆烟雾/ ~impactShockwave~/冲击堆冲击波/
       ~impactcloud~/冲击堆云/ ~impactsmoke~/冲击堆烟雾/ ~dynamicExplosion~/集束炸弹/ ~padlaunch~/发射台发射/ ~commandSend~/命令发送/ ~coreLand~/核心着陆/
** 瞄准优先度

   * ~base~
   * ~turret~


* 元素
  :PROPERTIES:
  :DESCRIPTION: 设置游戏元素的类
  :END:
  
  元素是某个参数的特征,有几个类引用它,用于 [[区域]] 地图设置中的元素设定. 

  使用元素的类:
  * ~ZoneWave~ -- 当选定 ~区域~ 打到指定 ~波次~ 触发
    | 接口 | 类型   | 备注                |
    |-------+--------+----------------------|
    | zone  | String | 目标 [[区域]] 名字     |
    | wave  | int    | 目标波次 |

  * ~Launched~ -- 当核心从指定 ~区域~ 发射来触发
    | 接口 | 类型   | 备注            |
    |-------+--------+------------------|
    | zone  | String | 目标 [[区域]] 名字 |
	
  * ~Unlock~ -- 当指定 ~方块~ 解锁时触发
    | 接口 | 类型   | 备注             |
    |-------+--------+-------------------|
    | block | String | 目标 [[方块]] 名字 |

* 其他
  :PROPERTIES:
  :DESCRIPTION: ...
  :END:

** Mindustry源码结构

   #+BEGIN_SRC fundamental
   core/src/io/anuke/mindustry/
   ├── ai
   │   ├── BlockIndexer.java
   │   ├── Pathfinder.java
   │   └── WaveSpawner.java
   ├── ClientLauncher.java
   ├── content
   │   ├── Blocks.java
   │   ├── Bullets.java
   │   ├── Fx.java
   │   ├── Items.java
   │   ├── Liquids.java
   │   ├── Loadouts.java
   │   ├── Mechs.java
   │   ├── StatusEffects.java
   │   ├── TechTree.java
   │   ├── TypeIDs.java
   │   ├── UnitTypes.java
   │   └── Zones.java
   ├── core
   │   ├── ContentLoader.java
   │   ├── Control.java
   │   ├── FileTree.java
   │   ├── GameState.java
   │   ├── Logic.java
   │   ├── NetClient.java
   │   ├── NetServer.java
   │   ├── Platform.java
   │   ├── Renderer.java
   │   ├── UI.java
   │   ├── Version.java
   │   └── World.java
   ├── ctype
   │   ├── Content.java
   │   ├── ContentList.java
   │   ├── MappableContent.java
   │   └── UnlockableContent.java
   ├── editor
   │   ├── DrawOperation.java
   │   ├── EditorTile.java
   │   ├── EditorTool.java
   │   ├── MapEditorDialog.java
   │   ├── MapEditor.java
   │   ├── MapGenerateDialog.java
   │   ├── MapInfoDialog.java
   │   ├── MapLoadDialog.java
   │   ├── MapRenderer.java
   │   ├── MapResizeDialog.java
   │   ├── MapSaveDialog.java
   │   ├── MapView.java
   │   ├── OperationStack.java
   │   └── WaveInfoDialog.java
   ├── entities
   │   ├── bullet
   │   │   ├── ArtilleryBulletType.java
   │   │   ├── BasicBulletType.java
   │   │   ├── BombBulletType.java
   │   │   ├── BulletType.java
   │   │   ├── FlakBulletType.java
   │   │   ├── HealBulletType.java
   │   │   ├── LiquidBulletType.java
   │   │   ├── MassDriverBolt.java
   │   │   └── MissileBulletType.java
   │   ├── Damage.java
   │   ├── effect
   │   │   ├── Decal.java
   │   │   ├── Fire.java
   │   │   ├── GroundEffectEntity.java
   │   │   ├── ItemTransfer.java
   │   │   ├── Lightning.java
   │   │   ├── Puddle.java
   │   │   ├── RubbleDecal.java
   │   │   └── ScorchDecal.java
   │   ├── Effects.java
   │   ├── Entities.java
   │   ├── EntityCollisions.java
   │   ├── EntityGroup.java
   │   ├── Predict.java
   │   ├── TargetPriority.java
   │   ├── traits
   │   │   ├── AbsorbTrait.java
   │   │   ├── BelowLiquidTrait.java
   │   │   ├── BuilderMinerTrait.java
   │   │   ├── BuilderTrait.java
   │   │   ├── DamageTrait.java
   │   │   ├── DrawTrait.java
   │   │   ├── Entity.java
   │   │   ├── HealthTrait.java
   │   │   ├── KillerTrait.java
   │   │   ├── MinerTrait.java
   │   │   ├── MoveTrait.java
   │   │   ├── Saveable.java
   │   │   ├── SaveTrait.java
   │   │   ├── ScaleTrait.java
   │   │   ├── ShooterTrait.java
   │   │   ├── SolidTrait.java
   │   │   ├── SpawnerTrait.java
   │   │   ├── SyncTrait.java
   │   │   ├── TargetTrait.java
   │   │   ├── TeamTrait.java
   │   │   ├── TimeTrait.java
   │   │   ├── TypeTrait.java
   │   │   └── VelocityTrait.java
   │   ├── type
   │   │   ├── base
   │   │   │   ├── BaseDrone.java
   │   │   │   ├── BuilderDrone.java
   │   │   │   ├── Crawler.java
   │   │   │   ├── Dagger.java
   │   │   │   ├── Draug.java
   │   │   │   ├── Eruptor.java
   │   │   │   ├── FlyingUnit.java
   │   │   │   ├── Fortress.java
   │   │   │   ├── Ghoul.java
   │   │   │   ├── GroundUnit.java
   │   │   │   ├── MinerDrone.java
   │   │   │   ├── Phantom.java
   │   │   │   ├── RepairDrone.java
   │   │   │   ├── Revenant.java
   │   │   │   ├── Spirit.java
   │   │   │   ├── Titan.java
   │   │   │   └── Wraith.java
   │   │   ├── BaseEntity.java
   │   │   ├── BaseUnit.java
   │   │   ├── Bullet.java
   │   │   ├── DestructibleEntity.java
   │   │   ├── EffectEntity.java
   │   │   ├── Player.java
   │   │   ├── SolidEntity.java
   │   │   ├── TileEntity.java
   │   │   ├── TimedEntity.java
   │   │   └── Unit.java
   │   ├── units
   │   │   ├── StateMachine.java
   │   │   ├── Statuses.java
   │   │   ├── UnitCommand.java
   │   │   ├── UnitDrops.java
   │   │   └── UnitState.java
   │   └── Units.java
   ├── game
   │   ├── DefaultWaves.java
   │   ├── Difficulty.java
   │   ├── EventType.java
   │   ├── Gamemode.java
   │   ├── GlobalData.java
   │   ├── LoopControl.java
   │   ├── MusicControl.java
   │   ├── Objective.java
   │   ├── Objectives.java
   │   ├── Rules.java
   │   ├── Saves.java
   │   ├── Schematic.java
   │   ├── Schematics.java
   │   ├── SoundLoop.java
   │   ├── SpawnGroup.java
   │   ├── Stats.java
   │   ├── Team.java
   │   ├── Teams.java
   │   └── Tutorial.java
   ├── graphics
   │   ├── BlockRenderer.java
   │   ├── Bloom.java
   │   ├── CacheLayer.java
   │   ├── Drawf.java
   │   ├── FloorRenderer.java
   │   ├── IndexedRenderer.java
   │   ├── Layer.java
   │   ├── MenuRenderer.java
   │   ├── MinimapRenderer.java
   │   ├── OverlayRenderer.java
   │   ├── Pal.java
   │   ├── Pixelator.java
   │   └── Shaders.java
   ├── input
   │   ├── Binding.java
   │   ├── DesktopInput.java
   │   ├── InputHandler.java
   │   ├── MobileInput.java
   │   ├── PlaceMode.java
   │   └── PlaceUtils.java
   ├── io
   │   ├── JsonIO.java
   │   ├── LegacyMapIO.java
   │   ├── MapIO.java
   │   ├── SaveFileReader.java
   │   ├── SaveIO.java
   │   ├── SaveMeta.java
   │   ├── SavePreviewLoader.java
   │   ├── SaveVersion.java
   │   ├── TypeIO.java
   │   └── versions
   │       ├── LegacyTypeTable.java
   │       ├── Save1.java
   │       ├── Save2.java
   │       └── Save3.java
   ├── maps
   │   ├── filters
   │   │   ├── BlendFilter.java
   │   │   ├── ClearFilter.java
   │   │   ├── DistortFilter.java
   │   │   ├── FilterOption.java
   │   │   ├── GenerateFilter.java
   │   │   ├── MedianFilter.java
   │   │   ├── MirrorFilter.java
   │   │   ├── NoiseFilter.java
   │   │   ├── OreFilter.java
   │   │   ├── OreMedianFilter.java
   │   │   ├── RiverNoiseFilter.java
   │   │   ├── ScatterFilter.java
   │   │   └── TerrainFilter.java
   │   ├── generators
   │   │   ├── BasicGenerator.java
   │   │   ├── Generator.java
   │   │   ├── MapGenerator.java
   │   │   └── RandomGenerator.java
   │   ├── MapException.java
   │   ├── Map.java
   │   ├── MapPreviewLoader.java
   │   ├── Maps.java
   │   └── zonegen
   │       ├── DesertWastesGenerator.java
   │       └── OvergrowthGenerator.java
   ├── mod
   │   ├── ContentParser.java
   │   ├── ModCrashHandler.java
   │   ├── Mod.java
   │   ├── ModLoadingSound.java
   │   └── Mods.java
   ├── net
   │   ├── Administration.java
   │   ├── ArcNetImpl.java
   │   ├── CrashSender.java
   │   ├── Host.java
   │   ├── Interpolator.java
   │   ├── NetConnection.java
   │   ├── Net.java
   │   ├── NetworkIO.java
   │   ├── Packet.java
   │   ├── Packets.java
   │   ├── Registrator.java
   │   ├── Streamable.java
   │   └── ValidateException.java
   ├── plugin
   │   └── Plugin.java
   ├── type
   │   ├── Category.java
   │   ├── ContentType.java
   │   ├── Item.java
   │   ├── ItemStack.java
   │   ├── ItemType.java
   │   ├── Liquid.java
   │   ├── LiquidStack.java
   │   ├── Loadout.java
   │   ├── Mech.java
   │   ├── Publishable.java
   │   ├── StatusEffect.java
   │   ├── TypeID.java
   │   ├── UnitType.java
   │   ├── Weapon.java
   │   ├── WeatherEvent.java
   │   └── Zone.java
   ├── ui
   │   ├── Bar.java
   │   ├── BorderImage.java
   │   ├── Cicon.java
   │   ├── ContentDisplay.java
   │   ├── dialogs
   │   │   ├── AboutDialog.java
   │   │   ├── AdminsDialog.java
   │   │   ├── BansDialog.java
   │   │   ├── ColorPickDialog.java
   │   │   ├── ContentInfoDialog.java
   │   │   ├── ControlsDialog.java
   │   │   ├── CustomGameDialog.java
   │   │   ├── CustomRulesDialog.java
   │   │   ├── DatabaseDialog.java
   │   │   ├── DeployDialog.java
   │   │   ├── DiscordDialog.java
   │   │   ├── FileChooser.java
   │   │   ├── FloatingDialog.java
   │   │   ├── GameOverDialog.java
   │   │   ├── HostDialog.java
   │   │   ├── JoinDialog.java
   │   │   ├── LanguageDialog.java
   │   │   ├── LoadDialog.java
   │   │   ├── LoadoutDialog.java
   │   │   ├── MapPlayDialog.java
   │   │   ├── MapsDialog.java
   │   │   ├── MinimapDialog.java
   │   │   ├── ModsDialog.java
   │   │   ├── PausedDialog.java
   │   │   ├── SaveDialog.java
   │   │   ├── SchematicsDialog.java
   │   │   ├── SettingsMenuDialog.java
   │   │   ├── TechTreeDialog.java
   │   │   ├── TraceDialog.java
   │   │   └── ZoneInfoDialog.java
   │   ├── Fonts.java
   │   ├── fragments
   │   │   ├── BlockConfigFragment.java
   │   │   ├── BlockInventoryFragment.java
   │   │   ├── ChatFragment.java
   │   │   ├── FadeInFragment.java
   │   │   ├── Fragment.java
   │   │   ├── HudFragment.java
   │   │   ├── LoadingFragment.java
   │   │   ├── MenuFragment.java
   │   │   ├── OverlayFragment.java
   │   │   ├── PlacementFragment.java
   │   │   └── PlayerListFragment.java
   │   ├── GridImage.java
   │   ├── IconSize.java
   │   ├── IntFormat.java
   │   ├── ItemDisplay.java
   │   ├── ItemImage.java
   │   ├── ItemsDisplay.java
   │   ├── layout
   │   │   ├── BranchTreeLayout.java
   │   │   ├── RadialTreeLayout.java
   │   │   └── TreeLayout.java
   │   ├── Links.java
   │   ├── LiquidDisplay.java
   │   ├── Minimap.java
   │   ├── MobileButton.java
   │   ├── MultiReqImage.java
   │   ├── ReqImage.java
   │   └── Styles.java
   ├── Vars.java
   └── world
       ├── Block.java
       ├── blocks
       │   ├── Attributes.java
       │   ├── Autotiler.java
       │   ├── BlockPart.java
       │   ├── BuildBlock.java
       │   ├── defense
       │   │   ├── DeflectorWall.java
       │   │   ├── Door.java
       │   │   ├── ForceProjector.java
       │   │   ├── MendProjector.java
       │   │   ├── OverdriveProjector.java
       │   │   ├── ShockMine.java
       │   │   ├── SurgeWall.java
       │   │   ├── turrets
       │   │   │   ├── ArtilleryTurret.java
       │   │   │   ├── BurstTurret.java
       │   │   │   ├── ChargeTurret.java
       │   │   │   ├── CooledTurret.java
       │   │   │   ├── DoubleTurret.java
       │   │   │   ├── ItemTurret.java
       │   │   │   ├── LaserTurret.java
       │   │   │   ├── LiquidTurret.java
       │   │   │   ├── PowerTurret.java
       │   │   │   └── Turret.java
       │   │   └── Wall.java
       │   ├── distribution
       │   │   ├── ArmoredConveyor.java
       │   │   ├── BufferedItemBridge.java
       │   │   ├── Conduit.java
       │   │   ├── Conveyor.java
       │   │   ├── ExtendingItemBridge.java
       │   │   ├── ItemBridge.java
       │   │   ├── Junction.java
       │   │   ├── LiquidBridge.java
       │   │   ├── LiquidExtendingBridge.java
       │   │   ├── LiquidJunction.java
       │   │   ├── LiquidRouter.java
       │   │   ├── LiquidTank.java
       │   │   ├── MassDriver.java
       │   │   ├── OverflowGate.java
       │   │   ├── Router.java
       │   │   └── Sorter.java
       │   ├── DoubleOverlayFloor.java
       │   ├── Floor.java
       │   ├── ItemSelection.java
       │   ├── LiquidBlock.java
       │   ├── logic
       │   │   ├── LogicBlock.java
       │   │   └── MessageBlock.java
       │   ├── OreBlock.java
       │   ├── OverlayFloor.java
       │   ├── power
       │   │   ├── Battery.java
       │   │   ├── BurnerGenerator.java
       │   │   ├── ConditionalConsumePower.java
       │   │   ├── DecayGenerator.java
       │   │   ├── ImpactReactor.java
       │   │   ├── ItemLiquidGenerator.java
       │   │   ├── NuclearReactor.java
       │   │   ├── PowerDistributor.java
       │   │   ├── PowerGenerator.java
       │   │   ├── PowerGraph.java
       │   │   ├── PowerNode.java
       │   │   ├── SingleTypeGenerator.java
       │   │   ├── SolarGenerator.java
       │   │   └── ThermalGenerator.java
       │   ├── PowerBlock.java
       │   ├── production
       │   │   ├── Cultivator.java
       │   │   ├── Drill.java
       │   │   ├── Fracker.java
       │   │   ├── GenericCrafter.java
       │   │   ├── GenericSmelter.java
       │   │   ├── Incinerator.java
       │   │   ├── LiquidConverter.java
       │   │   ├── Pump.java
       │   │   ├── Separator.java
       │   │   └── SolidPump.java
       │   ├── RespawnBlock.java
       │   ├── Rock.java
       │   ├── sandbox
       │   │   ├── ItemSource.java
       │   │   ├── ItemVoid.java
       │   │   ├── LiquidSource.java
       │   │   ├── PowerSource.java
       │   │   └── PowerVoid.java
       │   ├── StaticWall.java
       │   ├── storage
       │   │   ├── CoreBlock.java
       │   │   ├── LaunchPad.java
       │   │   ├── StorageBlock.java
       │   │   ├── Unloader.java
       │   │   └── Vault.java
       │   ├── TreeBlock.java
       │   └── units
       │       ├── CommandCenter.java
       │       ├── MechPad.java
       │       ├── RallyPoint.java
       │       ├── RepairPoint.java
       │       └── UnitFactory.java
       ├── BlockStorage.java
       ├── Build.java
       ├── CachedTile.java
       ├── consumers
       │   ├── ConsumeItemFilter.java
       │   ├── ConsumeItems.java
       │   ├── Consume.java
       │   ├── ConsumeLiquidBase.java
       │   ├── ConsumeLiquidFilter.java
       │   ├── ConsumeLiquid.java
       │   ├── ConsumePower.java
       │   ├── Consumers.java
       │   └── ConsumeType.java
       ├── DirectionalItemBuffer.java
       ├── Edges.java
       ├── ItemBuffer.java
       ├── LegacyColorMapper.java
       ├── meta
       │   ├── Attribute.java
       │   ├── BlockBars.java
       │   ├── BlockFlag.java
       │   ├── BlockGroup.java
       │   ├── BlockStat.java
       │   ├── BlockStats.java
       │   ├── BuildVisibility.java
       │   ├── PowerType.java
       │   ├── Producers.java
       │   ├── StatCategory.java
       │   ├── StatUnit.java
       │   ├── StatValue.java
       │   └── values
       │       ├── AmmoListValue.java
       │       ├── BooleanValue.java
       │       ├── BoosterListValue.java
       │       ├── ItemFilterValue.java
       │       ├── ItemListValue.java
       │       ├── LiquidFilterValue.java
       │       ├── LiquidValue.java
       │       ├── NumberValue.java
       │       └── StringValue.java
       ├── modules
       │   ├── BlockModule.java
       │   ├── ConsumeModule.java
       │   ├── ItemModule.java
       │   ├── LiquidModule.java
       │   └── PowerModule.java
       ├── Pos.java
       ├── producers
       │   ├── ProduceItem.java
       │   └── Produce.java
       ├── StaticTree.java
       ├── Tile.java
       └── WorldContext.java
   #+END_SRC
